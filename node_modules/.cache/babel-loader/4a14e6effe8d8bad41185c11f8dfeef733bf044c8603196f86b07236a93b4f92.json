{"ast":null,"code":"import { defineComponent, computed, getCurrentInstance, inject, ref, reactive, watch, provide, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport { useTimeoutFn } from '@vueuse/core';\nimport _CollapseTransition from '../../collapse-transition/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { ArrowDown, ArrowRight } from '@element-plus/icons-vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport useMenu from './use-menu.mjs';\nimport { useMenuCssVar } from './use-menu-css-var.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { throwError } from '../../../utils/error.mjs';\nimport { isString } from '@vue/shared';\nvar subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true\n  },\n  showTimeout: {\n    type: Number,\n    \"default\": 300\n  },\n  hideTimeout: {\n    type: Number,\n    \"default\": 300\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    \"default\": void 0\n  },\n  teleported: {\n    type: Boolean,\n    \"default\": void 0\n  },\n  popperOffset: {\n    type: Number,\n    \"default\": 6\n  },\n  expandCloseIcon: {\n    type: iconPropType\n  },\n  expandOpenIcon: {\n    type: iconPropType\n  },\n  collapseCloseIcon: {\n    type: iconPropType\n  },\n  collapseOpenIcon: {\n    type: iconPropType\n  }\n});\nvar COMPONENT_NAME = \"ElSubMenu\";\nvar SubMenu = defineComponent({\n  name: COMPONENT_NAME,\n  props: subMenuProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      expose = _ref.expose;\n    useDeprecated({\n      from: \"popper-append-to-body\",\n      replacement: \"teleported\",\n      scope: COMPONENT_NAME,\n      version: \"2.3.0\",\n      ref: \"https://element-plus.org/en-US/component/menu.html#submenu-attributes\"\n    }, computed(function () {\n      return props.popperAppendToBody !== void 0;\n    }));\n    var instance = getCurrentInstance();\n    var _useMenu = useMenu(instance, computed(function () {\n        return props.index;\n      })),\n      indexPath = _useMenu.indexPath,\n      parentMenu = _useMenu.parentMenu;\n    var nsMenu = useNamespace(\"menu\");\n    var nsSubMenu = useNamespace(\"sub-menu\");\n    var rootMenu = inject(\"rootMenu\");\n    if (!rootMenu) throwError(COMPONENT_NAME, \"can not inject root menu\");\n    var subMenu = inject(\"subMenu:\".concat(parentMenu.value.uid));\n    if (!subMenu) throwError(COMPONENT_NAME, \"can not inject sub menu\");\n    var items = ref({});\n    var subMenus = ref({});\n    var timeout;\n    var mouseInChild = ref(false);\n    var verticalTitleRef = ref();\n    var vPopper = ref(null);\n    var currentPlacement = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    });\n    var subMenuTitleIcon = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootMenu.props.collapse ? props.expandCloseIcon && props.expandOpenIcon ? opened.value ? props.expandOpenIcon : props.expandCloseIcon : ArrowDown : props.collapseCloseIcon && props.collapseOpenIcon ? opened.value ? props.collapseOpenIcon : props.collapseCloseIcon : ArrowRight;\n    });\n    var isFirstLevel = computed(function () {\n      return subMenu.level === 0;\n    });\n    var appendToBody = computed(function () {\n      var _a;\n      var value = (_a = props.teleported) != null ? _a : props.popperAppendToBody;\n      return value === void 0 ? isFirstLevel.value : value;\n    });\n    var menuTransitionName = computed(function () {\n      return rootMenu.props.collapse ? \"\".concat(nsMenu.namespace.value, \"-zoom-in-left\") : \"\".concat(nsMenu.namespace.value, \"-zoom-in-top\");\n    });\n    var fallbackPlacements = computed(function () {\n      return mode.value === \"horizontal\" && isFirstLevel.value ? [\"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\", \"right-start\", \"left-start\"] : [\"right-start\", \"left-start\", \"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\"];\n    });\n    var opened = computed(function () {\n      return rootMenu.openedMenus.includes(props.index);\n    });\n    var active = computed(function () {\n      var isActive = false;\n      Object.values(items.value).forEach(function (item2) {\n        if (item2.active) {\n          isActive = true;\n        }\n      });\n      Object.values(subMenus.value).forEach(function (subItem) {\n        if (subItem.active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    var backgroundColor = computed(function () {\n      return rootMenu.props.backgroundColor || \"\";\n    });\n    var activeTextColor = computed(function () {\n      return rootMenu.props.activeTextColor || \"\";\n    });\n    var textColor = computed(function () {\n      return rootMenu.props.textColor || \"\";\n    });\n    var mode = computed(function () {\n      return rootMenu.props.mode;\n    });\n    var item = reactive({\n      index: props.index,\n      indexPath: indexPath,\n      active: active\n    });\n    var ulStyle = useMenuCssVar(rootMenu.props, subMenu.level + 1);\n    var titleStyle = computed(function () {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n      return {\n        borderBottomColor: active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    var doDestroy = function doDestroy() {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = vPopper.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.popperInstanceRef) == null ? void 0 : _c.destroy();\n    };\n    var handleCollapseToggle = function handleCollapseToggle(value) {\n      if (!value) {\n        doDestroy();\n      }\n    };\n    var handleClick = function handleClick() {\n      if (rootMenu.props.menuTrigger === \"hover\" && rootMenu.props.mode === \"horizontal\" || rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) return;\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value\n      });\n    };\n    var handleMouseenter = function handleMouseenter(event) {\n      var showTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.showTimeout;\n      var _a;\n      if (event.type === \"focus\") {\n        return;\n      }\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) {\n        return;\n      }\n      subMenu.mouseInChild.value = true;\n      timeout == null ? void 0 : timeout();\n      var _useTimeoutFn = useTimeoutFn(function () {\n        rootMenu.openMenu(props.index, indexPath.value);\n      }, showTimeout);\n      timeout = _useTimeoutFn.stop;\n      if (appendToBody.value) {\n        (_a = parentMenu.value.vnode.el) == null ? void 0 : _a.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n    var handleMouseleave = function handleMouseleave() {\n      var deepDispatch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var _a, _b;\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\") {\n        return;\n      }\n      timeout == null ? void 0 : timeout();\n      subMenu.mouseInChild.value = false;\n      var _useTimeoutFn2 = useTimeoutFn(function () {\n        return !mouseInChild.value && rootMenu.closeMenu(props.index, indexPath.value);\n      }, props.hideTimeout);\n      timeout = _useTimeoutFn2.stop;\n      if (appendToBody.value && deepDispatch) {\n        if (((_a = instance.parent) == null ? void 0 : _a.type.name) === \"ElSubMenu\") {\n          (_b = subMenu.handleMouseleave) == null ? void 0 : _b.call(subMenu, true);\n        }\n      }\n    };\n    watch(function () {\n      return rootMenu.props.collapse;\n    }, function (value) {\n      return handleCollapseToggle(Boolean(value));\n    });\n    {\n      var addSubMenu = function addSubMenu(item2) {\n        subMenus.value[item2.index] = item2;\n      };\n      var removeSubMenu = function removeSubMenu(item2) {\n        delete subMenus.value[item2.index];\n      };\n      provide(\"subMenu:\".concat(instance.uid), {\n        addSubMenu: addSubMenu,\n        removeSubMenu: removeSubMenu,\n        handleMouseleave: handleMouseleave,\n        mouseInChild: mouseInChild,\n        level: subMenu.level + 1\n      });\n    }\n    expose({\n      opened: opened\n    });\n    onMounted(function () {\n      rootMenu.addSubMenu(item);\n      subMenu.addSubMenu(item);\n    });\n    onBeforeUnmount(function () {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeSubMenu(item);\n    });\n    return function () {\n      var _a;\n      var titleTag = [(_a = slots.title) == null ? void 0 : _a.call(slots), h(ElIcon, {\n        \"class\": nsSubMenu.e(\"icon-arrow\"),\n        style: {\n          transform: opened.value ? props.expandCloseIcon && props.expandOpenIcon || props.collapseCloseIcon && props.collapseOpenIcon && rootMenu.props.collapse ? \"none\" : \"rotateZ(180deg)\" : \"none\"\n        }\n      }, {\n        \"default\": function _default() {\n          return isString(subMenuTitleIcon.value) ? h(instance.appContext.components[subMenuTitleIcon.value]) : h(subMenuTitleIcon.value);\n        }\n      })];\n      var child = rootMenu.isMenuPopup ? h(ElTooltip, {\n        ref: vPopper,\n        visible: opened.value,\n        effect: \"light\",\n        pure: true,\n        offset: props.popperOffset,\n        showArrow: false,\n        persistent: true,\n        popperClass: props.popperClass,\n        placement: currentPlacement.value,\n        teleported: appendToBody.value,\n        fallbackPlacements: fallbackPlacements.value,\n        transition: menuTransitionName.value,\n        gpuAcceleration: false\n      }, {\n        content: function content() {\n          var _a2;\n          return h(\"div\", {\n            \"class\": [nsMenu.m(mode.value), nsMenu.m(\"popup-container\"), props.popperClass],\n            onMouseenter: function onMouseenter(evt) {\n              return handleMouseenter(evt, 100);\n            },\n            onMouseleave: function onMouseleave() {\n              return handleMouseleave(true);\n            },\n            onFocus: function onFocus(evt) {\n              return handleMouseenter(evt, 100);\n            }\n          }, [h(\"ul\", {\n            \"class\": [nsMenu.b(), nsMenu.m(\"popup\"), nsMenu.m(\"popup-\".concat(currentPlacement.value))],\n            style: ulStyle.value\n          }, [(_a2 = slots[\"default\"]) == null ? void 0 : _a2.call(slots)])]);\n        },\n        \"default\": function _default() {\n          return h(\"div\", {\n            \"class\": nsSubMenu.e(\"title\"),\n            style: [titleStyle.value, {\n              backgroundColor: backgroundColor.value\n            }],\n            onClick: handleClick\n          }, titleTag);\n        }\n      }) : h(Fragment, {}, [h(\"div\", {\n        \"class\": nsSubMenu.e(\"title\"),\n        style: [titleStyle.value, {\n          backgroundColor: backgroundColor.value\n        }],\n        ref: verticalTitleRef,\n        onClick: handleClick\n      }, titleTag), h(_CollapseTransition, {}, {\n        \"default\": function _default() {\n          var _a2;\n          return withDirectives(h(\"ul\", {\n            role: \"menu\",\n            \"class\": [nsMenu.b(), nsMenu.m(\"inline\")],\n            style: ulStyle.value\n          }, [(_a2 = slots[\"default\"]) == null ? void 0 : _a2.call(slots)]), [[vShow, opened.value]]);\n        }\n      })]);\n      return h(\"li\", {\n        \"class\": [nsSubMenu.b(), nsSubMenu.is(\"active\", active.value), nsSubMenu.is(\"opened\", opened.value), nsSubMenu.is(\"disabled\", props.disabled)],\n        role: \"menuitem\",\n        ariaHaspopup: true,\n        ariaExpanded: opened.value,\n        onMouseenter: handleMouseenter,\n        onMouseleave: function onMouseleave() {\n          return handleMouseleave(true);\n        },\n        onFocus: handleMouseenter\n      }, [child]);\n    };\n  }\n});\nexport { SubMenu as default, subMenuProps };","map":{"version":3,"names":["subMenuProps","buildProps","index","type","String","required","showTimeout","Number","hideTimeout","popperClass","disabled","Boolean","popperAppendToBody","teleported","popperOffset","expandCloseIcon","iconPropType","expandOpenIcon","collapseCloseIcon","collapseOpenIcon","COMPONENT_NAME","SubMenu","defineComponent","name","props","setup","_ref","slots","expose","useDeprecated","from","replacement","scope","version","ref","computed","instance","getCurrentInstance","_useMenu","useMenu","indexPath","parentMenu","nsMenu","useNamespace","nsSubMenu","rootMenu","inject","throwError","subMenu","concat","value","uid","items","subMenus","timeout","mouseInChild","verticalTitleRef","vPopper","currentPlacement","mode","isFirstLevel","subMenuTitleIcon","collapse","opened","ArrowDown","ArrowRight","level","appendToBody","_a","menuTransitionName","namespace","fallbackPlacements","openedMenus","includes","active","isActive","Object","values","forEach","item2","subItem","backgroundColor","activeTextColor","textColor","item","reactive","ulStyle","useMenuCssVar","titleStyle","color","borderBottomColor","doDestroy","_b","_c","popperRef","popperInstanceRef","destroy","handleCollapseToggle","handleClick","menuTrigger","handleSubMenuClick","handleMouseenter","event","arguments","length","undefined","_useTimeoutFn","useTimeoutFn","openMenu","stop","vnode","el","dispatchEvent","MouseEvent","handleMouseleave","deepDispatch","_useTimeoutFn2","closeMenu","parent","call","watch","addSubMenu","removeSubMenu","provide","onMounted","onBeforeUnmount","titleTag","title","h","ElIcon","e","style","transform","_default","isString","appContext","components","child","isMenuPopup","ElTooltip","visible","effect","pure","offset","showArrow","persistent","placement","transition","gpuAcceleration","content","_a2","m","onMouseenter","evt","onMouseleave","onFocus","b","onClick","Fragment","_CollapseTransition","withDirectives","role","vShow","is","ariaHaspopup","ariaExpanded"],"sources":["../../../../../../packages/components/menu/src/sub-menu.ts"],"sourcesContent":["import {\n  Fragment,\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  inject,\n  onBeforeUnmount,\n  onMounted,\n  provide,\n  reactive,\n  ref,\n  vShow,\n  watch,\n  withDirectives,\n} from 'vue'\nimport { useTimeoutFn } from '@vueuse/core'\nimport ElCollapseTransition from '@element-plus/components/collapse-transition'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport {\n  buildProps,\n  iconPropType,\n  isString,\n  throwError,\n} from '@element-plus/utils'\nimport { useDeprecated, useNamespace } from '@element-plus/hooks'\nimport { ArrowDown, ArrowRight } from '@element-plus/icons-vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport useMenu from './use-menu'\nimport { useMenuCssVar } from './use-menu-css-var'\n\nimport type { Placement } from '@element-plus/components/popper'\nimport type { CSSProperties, ExtractPropTypes, VNodeArrayChildren } from 'vue'\nimport type { MenuProvider, SubMenuProvider } from './types'\n\nexport const subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true,\n  },\n  showTimeout: {\n    type: Number,\n    default: 300,\n  },\n  hideTimeout: {\n    type: Number,\n    default: 300,\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    default: undefined,\n  },\n  teleported: {\n    type: Boolean,\n    default: undefined,\n  },\n  popperOffset: {\n    type: Number,\n    default: 6,\n  },\n  expandCloseIcon: {\n    type: iconPropType,\n  },\n  expandOpenIcon: {\n    type: iconPropType,\n  },\n  collapseCloseIcon: {\n    type: iconPropType,\n  },\n  collapseOpenIcon: {\n    type: iconPropType,\n  },\n} as const)\nexport type SubMenuProps = ExtractPropTypes<typeof subMenuProps>\n\nconst COMPONENT_NAME = 'ElSubMenu'\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  props: subMenuProps,\n\n  setup(props, { slots, expose }) {\n    useDeprecated(\n      {\n        from: 'popper-append-to-body',\n        replacement: 'teleported',\n        scope: COMPONENT_NAME,\n        version: '2.3.0',\n        ref: 'https://element-plus.org/en-US/component/menu.html#submenu-attributes',\n      },\n      computed(() => props.popperAppendToBody !== undefined)\n    )\n\n    const instance = getCurrentInstance()!\n    const { indexPath, parentMenu } = useMenu(\n      instance,\n      computed(() => props.index)\n    )\n    const nsMenu = useNamespace('menu')\n    const nsSubMenu = useNamespace('sub-menu')\n\n    // inject\n    const rootMenu = inject<MenuProvider>('rootMenu')\n    if (!rootMenu) throwError(COMPONENT_NAME, 'can not inject root menu')\n\n    const subMenu = inject<SubMenuProvider>(`subMenu:${parentMenu.value!.uid}`)\n    if (!subMenu) throwError(COMPONENT_NAME, 'can not inject sub menu')\n\n    const items = ref<MenuProvider['items']>({})\n    const subMenus = ref<MenuProvider['subMenus']>({})\n\n    let timeout: (() => void) | undefined\n    const mouseInChild = ref(false)\n    const verticalTitleRef = ref<HTMLDivElement>()\n    const vPopper = ref<InstanceType<typeof ElTooltip> | null>(null)\n\n    // computed\n    const currentPlacement = computed<Placement>(() =>\n      mode.value === 'horizontal' && isFirstLevel.value\n        ? 'bottom-start'\n        : 'right-start'\n    )\n    const subMenuTitleIcon = computed(() => {\n      return (mode.value === 'horizontal' && isFirstLevel.value) ||\n        (mode.value === 'vertical' && !rootMenu.props.collapse)\n        ? props.expandCloseIcon && props.expandOpenIcon\n          ? opened.value\n            ? props.expandOpenIcon\n            : props.expandCloseIcon\n          : ArrowDown\n        : props.collapseCloseIcon && props.collapseOpenIcon\n        ? opened.value\n          ? props.collapseOpenIcon\n          : props.collapseCloseIcon\n        : ArrowRight\n    })\n    const isFirstLevel = computed(() => {\n      return subMenu.level === 0\n    })\n    const appendToBody = computed(() => {\n      const value = props.teleported ?? props.popperAppendToBody\n      return value === undefined ? isFirstLevel.value : value\n    })\n    const menuTransitionName = computed(() =>\n      rootMenu.props.collapse\n        ? `${nsMenu.namespace.value}-zoom-in-left`\n        : `${nsMenu.namespace.value}-zoom-in-top`\n    )\n    const fallbackPlacements = computed<Placement[]>(() =>\n      mode.value === 'horizontal' && isFirstLevel.value\n        ? [\n            'bottom-start',\n            'bottom-end',\n            'top-start',\n            'top-end',\n            'right-start',\n            'left-start',\n          ]\n        : [\n            'right-start',\n            'left-start',\n            'bottom-start',\n            'bottom-end',\n            'top-start',\n            'top-end',\n          ]\n    )\n    const opened = computed(() => rootMenu.openedMenus.includes(props.index))\n    const active = computed(() => {\n      let isActive = false\n\n      Object.values(items.value).forEach((item) => {\n        if (item.active) {\n          isActive = true\n        }\n      })\n\n      Object.values(subMenus.value).forEach((subItem) => {\n        if (subItem.active) {\n          isActive = true\n        }\n      })\n\n      return isActive\n    })\n\n    const backgroundColor = computed(() => rootMenu.props.backgroundColor || '')\n    const activeTextColor = computed(() => rootMenu.props.activeTextColor || '')\n    const textColor = computed(() => rootMenu.props.textColor || '')\n    const mode = computed(() => rootMenu.props.mode)\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active,\n    })\n\n    const ulStyle = useMenuCssVar(rootMenu.props, subMenu.level + 1)\n    const titleStyle = computed<CSSProperties>(() => {\n      if (mode.value !== 'horizontal') {\n        return {\n          color: textColor.value,\n        }\n      }\n      return {\n        borderBottomColor: active.value\n          ? rootMenu.props.activeTextColor\n            ? activeTextColor.value\n            : ''\n          : 'transparent',\n        color: active.value ? activeTextColor.value : textColor.value,\n      }\n    })\n\n    // methods\n    const doDestroy = () =>\n      vPopper.value?.popperRef?.popperInstanceRef?.destroy()\n\n    const handleCollapseToggle = (value: boolean) => {\n      if (!value) {\n        doDestroy()\n      }\n    }\n\n    const handleClick = () => {\n      if (\n        (rootMenu.props.menuTrigger === 'hover' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        props.disabled\n      )\n        return\n\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value,\n      })\n    }\n\n    const handleMouseenter = (\n      event: MouseEvent | FocusEvent,\n      showTimeout = props.showTimeout\n    ) => {\n      if (event.type === 'focus') {\n        return\n      }\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        props.disabled\n      ) {\n        return\n      }\n      subMenu.mouseInChild.value = true\n\n      timeout?.()\n      ;({ stop: timeout } = useTimeoutFn(() => {\n        rootMenu.openMenu(props.index, indexPath.value)\n      }, showTimeout))\n\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el?.dispatchEvent(new MouseEvent('mouseenter'))\n      }\n    }\n\n    const handleMouseleave = (deepDispatch = false) => {\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical')\n      ) {\n        return\n      }\n      timeout?.()\n      subMenu.mouseInChild.value = false\n      ;({ stop: timeout } = useTimeoutFn(\n        () =>\n          !mouseInChild.value &&\n          rootMenu.closeMenu(props.index, indexPath.value),\n        props.hideTimeout\n      ))\n\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent?.type.name === 'ElSubMenu') {\n          subMenu.handleMouseleave?.(true)\n        }\n      }\n    }\n\n    watch(\n      () => rootMenu.props.collapse,\n      (value) => handleCollapseToggle(Boolean(value))\n    )\n\n    // provide\n    {\n      const addSubMenu: SubMenuProvider['addSubMenu'] = (item) => {\n        subMenus.value[item.index] = item\n      }\n      const removeSubMenu: SubMenuProvider['removeSubMenu'] = (item) => {\n        delete subMenus.value[item.index]\n      }\n      provide<SubMenuProvider>(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu,\n        handleMouseleave,\n        mouseInChild,\n        level: subMenu.level + 1,\n      })\n    }\n\n    // expose\n    expose({\n      opened,\n    })\n\n    // lifecycle\n    onMounted(() => {\n      rootMenu.addSubMenu(item)\n      subMenu.addSubMenu(item)\n    })\n\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item)\n      rootMenu.removeSubMenu(item)\n    })\n\n    return () => {\n      const titleTag: VNodeArrayChildren = [\n        slots.title?.(),\n        h(\n          ElIcon,\n          {\n            class: nsSubMenu.e('icon-arrow'),\n            style: {\n              transform: opened.value\n                ? (props.expandCloseIcon && props.expandOpenIcon) ||\n                  (props.collapseCloseIcon &&\n                    props.collapseOpenIcon &&\n                    rootMenu.props.collapse)\n                  ? 'none'\n                  : 'rotateZ(180deg)'\n                : 'none',\n            },\n          },\n          {\n            default: () =>\n              isString(subMenuTitleIcon.value)\n                ? h(instance.appContext.components[subMenuTitleIcon.value])\n                : h(subMenuTitleIcon.value),\n          }\n        ),\n      ]\n\n      // this render function is only used for bypass `Vue`'s compiler caused patching issue.\n      // temporarily mark ElPopper as any due to type inconsistency.\n      const child = rootMenu.isMenuPopup\n        ? h(\n            // TODO: correct popper's type.\n            ElTooltip as any,\n            {\n              ref: vPopper,\n              visible: opened.value,\n              effect: 'light',\n              pure: true,\n              offset: props.popperOffset,\n              showArrow: false,\n              persistent: true,\n              popperClass: props.popperClass,\n              placement: currentPlacement.value,\n              teleported: appendToBody.value,\n              fallbackPlacements: fallbackPlacements.value,\n              transition: menuTransitionName.value,\n              gpuAcceleration: false,\n            },\n            {\n              content: () =>\n                h(\n                  'div',\n                  {\n                    class: [\n                      nsMenu.m(mode.value),\n                      nsMenu.m('popup-container'),\n                      props.popperClass,\n                    ],\n                    onMouseenter: (evt: MouseEvent) =>\n                      handleMouseenter(evt, 100),\n                    onMouseleave: () => handleMouseleave(true),\n                    onFocus: (evt: FocusEvent) => handleMouseenter(evt, 100),\n                  },\n                  [\n                    h(\n                      'ul',\n                      {\n                        class: [\n                          nsMenu.b(),\n                          nsMenu.m('popup'),\n                          nsMenu.m(`popup-${currentPlacement.value}`),\n                        ],\n                        style: ulStyle.value,\n                      },\n                      [slots.default?.()]\n                    ),\n                  ]\n                ),\n              default: () =>\n                h(\n                  'div',\n                  {\n                    class: nsSubMenu.e('title'),\n                    style: [\n                      titleStyle.value,\n                      { backgroundColor: backgroundColor.value },\n                    ],\n                    onClick: handleClick,\n                  },\n                  titleTag\n                ),\n            }\n          )\n        : h(Fragment, {}, [\n            h(\n              'div',\n              {\n                class: nsSubMenu.e('title'),\n                style: [\n                  titleStyle.value,\n                  { backgroundColor: backgroundColor.value },\n                ],\n                ref: verticalTitleRef,\n                onClick: handleClick,\n              },\n              titleTag\n            ),\n            h(\n              ElCollapseTransition,\n              {},\n              {\n                default: () =>\n                  withDirectives(\n                    h(\n                      'ul',\n                      {\n                        role: 'menu',\n                        class: [nsMenu.b(), nsMenu.m('inline')],\n                        style: ulStyle.value,\n                      },\n                      [slots.default?.()]\n                    ),\n                    [[vShow, opened.value]]\n                  ),\n              }\n            ),\n          ])\n\n      return h(\n        'li',\n        {\n          class: [\n            nsSubMenu.b(),\n            nsSubMenu.is('active', active.value),\n            nsSubMenu.is('opened', opened.value),\n            nsSubMenu.is('disabled', props.disabled),\n          ],\n          role: 'menuitem',\n          ariaHaspopup: true,\n          ariaExpanded: opened.value,\n          onMouseenter: handleMouseenter,\n          onMouseleave: () => handleMouseleave(true),\n          onFocus: handleMouseenter,\n        },\n        [child]\n      )\n    }\n  },\n})\n"],"mappings":";;;;;;;;;;;;;;;;AA8BY,IAACA,YAAY,GAAGC,UAAU,CAAC;EACrCC,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACd,CAAG;EACDC,WAAW,EAAE;IACXH,IAAI,EAAEI,MAAM;IACZ,WAAS;EACb,CAAG;EACDC,WAAW,EAAE;IACXL,IAAI,EAAEI,MAAM;IACZ,WAAS;EACb,CAAG;EACDE,WAAW,EAAEL,MAAM;EACnBM,QAAQ,EAAEC,OAAO;EACjBC,kBAAkB,EAAE;IAClBT,IAAI,EAAEQ,OAAO;IACb,WAAS,KAAK;EAClB,CAAG;EACDE,UAAU,EAAE;IACVV,IAAI,EAAEQ,OAAO;IACb,WAAS,KAAK;EAClB,CAAG;EACDG,YAAY,EAAE;IACZX,IAAI,EAAEI,MAAM;IACZ,WAAS;EACb,CAAG;EACDQ,eAAe,EAAE;IACfZ,IAAI,EAAEa;EACV,CAAG;EACDC,cAAc,EAAE;IACdd,IAAI,EAAEa;EACV,CAAG;EACDE,iBAAiB,EAAE;IACjBf,IAAI,EAAEa;EACV,CAAG;EACDG,gBAAgB,EAAE;IAChBhB,IAAI,EAAEa;EACV;AACA,CAAC;AACD,IAAMI,cAAc,GAAG,WAAW;AAClC,IAAAC,OAAA,GAAeC,eAAe,CAAC;EAC7BC,IAAI,EAAEH,cAAc;EACpBI,KAAK,EAAExB,YAAY;EACnByB,KAAK,WAAAA,MAACD,KAAK,EAAAE,IAAA,EAAqB;IAAA,IAAjBC,KAAK,GAAAD,IAAA,CAALC,KAAK;MAAEC,MAAM,GAAAF,IAAA,CAANE,MAAM;IAC1BC,aAAa,CAAC;MACZC,IAAI,EAAE,uBAAuB;MAC7BC,WAAW,EAAE,YAAY;MACzBC,KAAK,EAAEZ,cAAc;MACrBa,OAAO,EAAE,OAAO;MAChBC,GAAG,EAAE;IACX,CAAK,EAAEC,QAAQ,CAAC;MAAA,OAAMX,KAAK,CAACZ,kBAAkB,KAAK,KAAK,CAAC;IAAA,EAAC,CAAC;IACvD,IAAMwB,QAAQ,GAAGC,kBAAkB,EAAE;IACrC,IAAAC,QAAA,GAAkCC,OAAO,CAACH,QAAQ,EAAED,QAAQ,CAAC;QAAA,OAAMX,KAAK,CAACtB,KAAK;MAAA,EAAC,CAAC;MAAxEsC,SAAS,GAAAF,QAAA,CAATE,SAAS;MAAEC,UAAU,GAAAH,QAAA,CAAVG,UAAU;IAC7B,IAAMC,MAAM,GAAGC,YAAY,CAAC,MAAM,CAAC;IACnC,IAAMC,SAAS,GAAGD,YAAY,CAAC,UAAU,CAAC;IAC1C,IAAME,QAAQ,GAAGC,MAAM,CAAC,UAAU,CAAC;IACnC,IAAI,CAACD,QAAQ,EACXE,UAAU,CAAC3B,cAAc,EAAE,0BAA0B,CAAC;IACxD,IAAM4B,OAAO,GAAGF,MAAM,YAAAG,MAAA,CAAYR,UAAU,CAACS,KAAK,CAACC,GAAG,CAAE,CAAC;IACzD,IAAI,CAACH,OAAO,EACVD,UAAU,CAAC3B,cAAc,EAAE,yBAAyB,CAAC;IACvD,IAAMgC,KAAK,GAAGlB,GAAG,CAAC,EAAE,CAAC;IACrB,IAAMmB,QAAQ,GAAGnB,GAAG,CAAC,EAAE,CAAC;IACxB,IAAIoB,OAAO;IACX,IAAMC,YAAY,GAAGrB,GAAG,CAAC,KAAK,CAAC;IAC/B,IAAMsB,gBAAgB,GAAGtB,GAAG,EAAE;IAC9B,IAAMuB,OAAO,GAAGvB,GAAG,CAAC,IAAI,CAAC;IACzB,IAAMwB,gBAAgB,GAAGvB,QAAQ,CAAC;MAAA,OAAMwB,IAAI,CAACT,KAAK,KAAK,YAAY,IAAIU,YAAY,CAACV,KAAK,GAAG,cAAc,GAAG,aAAa;IAAA,EAAC;IAC3H,IAAMW,gBAAgB,GAAG1B,QAAQ,CAAC,YAAM;MACtC,OAAOwB,IAAI,CAACT,KAAK,KAAK,YAAY,IAAIU,YAAY,CAACV,KAAK,IAAIS,IAAI,CAACT,KAAK,KAAK,UAAU,IAAI,CAACL,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,GAAGtC,KAAK,CAACT,eAAe,IAAIS,KAAK,CAACP,cAAc,GAAG8C,MAAM,CAACb,KAAK,GAAG1B,KAAK,CAACP,cAAc,GAAGO,KAAK,CAACT,eAAe,GAAGiD,SAAS,GAAGxC,KAAK,CAACN,iBAAiB,IAAIM,KAAK,CAACL,gBAAgB,GAAG4C,MAAM,CAACb,KAAK,GAAG1B,KAAK,CAACL,gBAAgB,GAAGK,KAAK,CAACN,iBAAiB,GAAG+C,UAAU;IACpX,CAAK,CAAC;IACF,IAAML,YAAY,GAAGzB,QAAQ,CAAC,YAAM;MAClC,OAAOa,OAAO,CAACkB,KAAK,KAAK,CAAC;IAChC,CAAK,CAAC;IACF,IAAMC,YAAY,GAAGhC,QAAQ,CAAC,YAAM;MAClC,IAAIiC,EAAE;MACN,IAAMlB,KAAK,GAAG,CAACkB,EAAE,GAAG5C,KAAK,CAACX,UAAU,KAAK,IAAI,GAAGuD,EAAE,GAAG5C,KAAK,CAACZ,kBAAkB;MAC7E,OAAOsC,KAAK,KAAK,KAAK,CAAC,GAAGU,YAAY,CAACV,KAAK,GAAGA,KAAK;IAC1D,CAAK,CAAC;IACF,IAAMmB,kBAAkB,GAAGlC,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,MAAAb,MAAA,CAAMP,MAAM,CAAC4B,SAAS,CAACpB,KAAK,wBAAAD,MAAA,CAAqBP,MAAM,CAAC4B,SAAS,CAACpB,KAAK,iBAAc;IAAA,EAAC;IACvJ,IAAMqB,kBAAkB,GAAGpC,QAAQ,CAAC;MAAA,OAAMwB,IAAI,CAACT,KAAK,KAAK,YAAY,IAAIU,YAAY,CAACV,KAAK,GAAG,CAC5F,cAAc,EACd,YAAY,EACZ,WAAW,EACX,SAAS,EACT,aAAa,EACb,YAAY,CACb,GAAG,CACF,aAAa,EACb,YAAY,EACZ,cAAc,EACd,YAAY,EACZ,WAAW,EACX,SAAS,CACV;IAAA,EAAC;IACF,IAAMa,MAAM,GAAG5B,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAAC2B,WAAW,CAACC,QAAQ,CAACjD,KAAK,CAACtB,KAAK,CAAC;IAAA,EAAC;IACzE,IAAMwE,MAAM,GAAGvC,QAAQ,CAAC,YAAM;MAC5B,IAAIwC,QAAQ,GAAG,KAAK;MACpBC,MAAM,CAACC,MAAM,CAACzB,KAAK,CAACF,KAAK,CAAC,CAAC4B,OAAO,CAAC,UAACC,KAAK,EAAK;QAC5C,IAAIA,KAAK,CAACL,MAAM,EAAE;UAChBC,QAAQ,GAAG,IAAI;QACzB;MACA,CAAO,CAAC;MACFC,MAAM,CAACC,MAAM,CAACxB,QAAQ,CAACH,KAAK,CAAC,CAAC4B,OAAO,CAAC,UAACE,OAAO,EAAK;QACjD,IAAIA,OAAO,CAACN,MAAM,EAAE;UAClBC,QAAQ,GAAG,IAAI;QACzB;MACA,CAAO,CAAC;MACF,OAAOA,QAAQ;IACrB,CAAK,CAAC;IACF,IAAMM,eAAe,GAAG9C,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAACrB,KAAK,CAACyD,eAAe,IAAI,EAAE;IAAA,EAAC;IAC5E,IAAMC,eAAe,GAAG/C,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAACrB,KAAK,CAAC0D,eAAe,IAAI,EAAE;IAAA,EAAC;IAC5E,IAAMC,SAAS,GAAGhD,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAACrB,KAAK,CAAC2D,SAAS,IAAI,EAAE;IAAA,EAAC;IAChE,IAAMxB,IAAI,GAAGxB,QAAQ,CAAC;MAAA,OAAMU,QAAQ,CAACrB,KAAK,CAACmC,IAAI;IAAA,EAAC;IAChD,IAAMyB,IAAI,GAAGC,QAAQ,CAAC;MACpBnF,KAAK,EAAEsB,KAAK,CAACtB,KAAK;MAClBsC,SAAS,EAATA,SAAS;MACTkC,MAAM,EAANA;IACN,CAAK,CAAC;IACF,IAAMY,OAAO,GAAGC,aAAa,CAAC1C,QAAQ,CAACrB,KAAK,EAAEwB,OAAO,CAACkB,KAAK,GAAG,CAAC,CAAC;IAChE,IAAMsB,UAAU,GAAGrD,QAAQ,CAAC,YAAM;MAChC,IAAIwB,IAAI,CAACT,KAAK,KAAK,YAAY,EAAE;QAC/B,OAAO;UACLuC,KAAK,EAAEN,SAAS,CAACjC;QAC3B,CAAS;MACT;MACM,OAAO;QACLwC,iBAAiB,EAAEhB,MAAM,CAACxB,KAAK,GAAGL,QAAQ,CAACrB,KAAK,CAAC0D,eAAe,GAAGA,eAAe,CAAChC,KAAK,GAAG,EAAE,GAAG,aAAa;QAC7GuC,KAAK,EAAEf,MAAM,CAACxB,KAAK,GAAGgC,eAAe,CAAChC,KAAK,GAAGiC,SAAS,CAACjC;MAChE,CAAO;IACP,CAAK,CAAC;IACF,IAAMyC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAIvB,EAAE,EAAEwB,EAAE,EAAEC,EAAE;MACd,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAG,CAACxB,EAAE,GAAGX,OAAO,CAACP,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGkB,EAAE,CAAC0B,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,EAAE,CAACG,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,EAAE,CAACG,OAAO,EAAE;IACvJ,CAAK;IACD,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI/C,KAAK,EAAK;MACtC,IAAI,CAACA,KAAK,EAAE;QACVyC,SAAS,EAAE;MACnB;IACA,CAAK;IACD,IAAMO,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;MACxB,IAAIrD,QAAQ,CAACrB,KAAK,CAAC2E,WAAW,KAAK,OAAO,IAAItD,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,YAAY,IAAId,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,IAAIjB,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,UAAU,IAAInC,KAAK,CAACd,QAAQ,EACnK;MACFmC,QAAQ,CAACuD,kBAAkB,CAAC;QAC1BlG,KAAK,EAAEsB,KAAK,CAACtB,KAAK;QAClBsC,SAAS,EAAEA,SAAS,CAACU,KAAK;QAC1BwB,MAAM,EAAEA,MAAM,CAACxB;MACvB,CAAO,CAAC;IACR,CAAK;IACD,IAAMmD,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,KAAK,EAAsC;MAAA,IAApChG,WAAW,GAAAiG,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG/E,KAAK,CAAClB,WAAW;MAC9D,IAAI8D,EAAE;MACN,IAAIkC,KAAK,CAACnG,IAAI,KAAK,OAAO,EAAE;QAC1B;MACR;MACM,IAAI0C,QAAQ,CAACrB,KAAK,CAAC2E,WAAW,KAAK,OAAO,IAAItD,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,YAAY,IAAI,CAACd,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,IAAIjB,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,UAAU,IAAInC,KAAK,CAACd,QAAQ,EAAE;QACtK;MACR;MACMsC,OAAO,CAACO,YAAY,CAACL,KAAK,GAAG,IAAI;MACjCI,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,EAAE;MAAC,IAAAoD,aAAA,GAChBC,YAAY,CAAC,YAAM;QACtC9D,QAAQ,CAAC+D,QAAQ,CAACpF,KAAK,CAACtB,KAAK,EAAEsC,SAAS,CAACU,KAAK,CAAC;MACvD,CAAO,EAAE5C,WAAW,CAAC;MAFNgD,OAAO,GAAAoD,aAAA,CAAbG,IAAI;MAGP,IAAI1C,YAAY,CAACjB,KAAK,EAAE;QACtB,CAACkB,EAAE,GAAG3B,UAAU,CAACS,KAAK,CAAC4D,KAAK,CAACC,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3C,EAAE,CAAC4C,aAAa,CAAC,IAAIC,UAAU,CAAC,YAAY,CAAC,CAAC;MAC1G;IACA,CAAK;IACD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAA6B;MAAA,IAAzBC,YAAY,GAAAZ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;MAC5C,IAAInC,EAAE,EAAEwB,EAAE;MACV,IAAI/C,QAAQ,CAACrB,KAAK,CAAC2E,WAAW,KAAK,OAAO,IAAItD,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,YAAY,IAAI,CAACd,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,IAAIjB,QAAQ,CAACrB,KAAK,CAACmC,IAAI,KAAK,UAAU,EAAE;QACpJ;MACR;MACML,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,EAAE;MACpCN,OAAO,CAACO,YAAY,CAACL,KAAK,GAAG,KAAK;MAAC,IAAAkE,cAAA,GACdT,YAAY,CAAC;QAAA,OAAM,CAACpD,YAAY,CAACL,KAAK,IAAIL,QAAQ,CAACwE,SAAS,CAAC7F,KAAK,CAACtB,KAAK,EAAEsC,SAAS,CAACU,KAAK,CAAC;MAAA,GAAE1B,KAAK,CAAChB,WAAW,CAAC;MAA1H8C,OAAO,GAAA8D,cAAA,CAAbP,IAAI;MACP,IAAI1C,YAAY,CAACjB,KAAK,IAAIiE,YAAY,EAAE;QACtC,IAAI,CAAC,CAAC/C,EAAE,GAAGhC,QAAQ,CAACkF,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlD,EAAE,CAACjE,IAAI,CAACoB,IAAI,MAAM,WAAW,EAAE;UAC5E,CAACqE,EAAE,GAAG5C,OAAO,CAACkE,gBAAgB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtB,EAAE,CAAC2B,IAAI,CAACvE,OAAO,EAAE,IAAI,CAAC;QACnF;MACA;IACA,CAAK;IACDwE,KAAK,CAAC;MAAA,OAAM3E,QAAQ,CAACrB,KAAK,CAACsC,QAAQ;IAAA,GAAE,UAACZ,KAAK;MAAA,OAAK+C,oBAAoB,CAACtF,OAAO,CAACuC,KAAK,CAAC,CAAC;IAAA,EAAC;IACrF;MACE,IAAMuE,UAAU,GAAG,SAAbA,UAAUA,CAAI1C,KAAK,EAAK;QAC5B1B,QAAQ,CAACH,KAAK,CAAC6B,KAAK,CAAC7E,KAAK,CAAC,GAAG6E,KAAK;MAC3C,CAAO;MACD,IAAM2C,aAAa,GAAG,SAAhBA,aAAaA,CAAI3C,KAAK,EAAK;QAC/B,OAAO1B,QAAQ,CAACH,KAAK,CAAC6B,KAAK,CAAC7E,KAAK,CAAC;MAC1C,CAAO;MACDyH,OAAO,YAAA1E,MAAA,CAAYb,QAAQ,CAACe,GAAG,GAAI;QACjCsE,UAAU,EAAVA,UAAU;QACVC,aAAa,EAAbA,aAAa;QACbR,gBAAgB,EAAhBA,gBAAgB;QAChB3D,YAAY,EAAZA,YAAY;QACZW,KAAK,EAAElB,OAAO,CAACkB,KAAK,GAAG;MAC/B,CAAO,CAAC;IACR;IACItC,MAAM,CAAC;MACLmC,MAAM,EAANA;IACN,CAAK,CAAC;IACF6D,SAAS,CAAC,YAAM;MACd/E,QAAQ,CAAC4E,UAAU,CAACrC,IAAI,CAAC;MACzBpC,OAAO,CAACyE,UAAU,CAACrC,IAAI,CAAC;IAC9B,CAAK,CAAC;IACFyC,eAAe,CAAC,YAAM;MACpB7E,OAAO,CAAC0E,aAAa,CAACtC,IAAI,CAAC;MAC3BvC,QAAQ,CAAC6E,aAAa,CAACtC,IAAI,CAAC;IAClC,CAAK,CAAC;IACF,OAAO,YAAM;MACX,IAAIhB,EAAE;MACN,IAAM0D,QAAQ,GAAG,CACf,CAAC1D,EAAE,GAAGzC,KAAK,CAACoG,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3D,EAAE,CAACmD,IAAI,CAAC5F,KAAK,CAAC,EACpDqG,CAAC,CAACC,MAAM,EAAE;QACR,SAAOrF,SAAS,CAACsF,CAAC,CAAC,YAAY,CAAC;QAChCC,KAAK,EAAE;UACLC,SAAS,EAAErE,MAAM,CAACb,KAAK,GAAG1B,KAAK,CAACT,eAAe,IAAIS,KAAK,CAACP,cAAc,IAAIO,KAAK,CAACN,iBAAiB,IAAIM,KAAK,CAACL,gBAAgB,IAAI0B,QAAQ,CAACrB,KAAK,CAACsC,QAAQ,GAAG,MAAM,GAAG,iBAAiB,GAAG;QACnM;MACA,CAAS,EAAE;QACD,WAAS,SAAAuE,SAAA;UAAA,OAAMC,QAAQ,CAACzE,gBAAgB,CAACX,KAAK,CAAC,GAAG8E,CAAC,CAAC5F,QAAQ,CAACmG,UAAU,CAACC,UAAU,CAAC3E,gBAAgB,CAACX,KAAK,CAAC,CAAC,GAAG8E,CAAC,CAACnE,gBAAgB,CAACX,KAAK,CAAC;QAAA;MACjJ,CAAS,CAAC,CACH;MACD,IAAMuF,KAAK,GAAG5F,QAAQ,CAAC6F,WAAW,GAAGV,CAAC,CAACW,SAAS,EAAE;QAChDzG,GAAG,EAAEuB,OAAO;QACZmF,OAAO,EAAE7E,MAAM,CAACb,KAAK;QACrB2F,MAAM,EAAE,OAAO;QACfC,IAAI,EAAE,IAAI;QACVC,MAAM,EAAEvH,KAAK,CAACV,YAAY;QAC1BkI,SAAS,EAAE,KAAK;QAChBC,UAAU,EAAE,IAAI;QAChBxI,WAAW,EAAEe,KAAK,CAACf,WAAW;QAC9ByI,SAAS,EAAExF,gBAAgB,CAACR,KAAK;QACjCrC,UAAU,EAAEsD,YAAY,CAACjB,KAAK;QAC9BqB,kBAAkB,EAAEA,kBAAkB,CAACrB,KAAK;QAC5CiG,UAAU,EAAE9E,kBAAkB,CAACnB,KAAK;QACpCkG,eAAe,EAAE;MACzB,CAAO,EAAE;QACDC,OAAO,EAAE,SAAAA,QAAA,EAAM;UACb,IAAIC,GAAG;UACP,OAAOtB,CAAC,CAAC,KAAK,EAAE;YACd,SAAO,CACLtF,MAAM,CAAC6G,CAAC,CAAC5F,IAAI,CAACT,KAAK,CAAC,EACpBR,MAAM,CAAC6G,CAAC,CAAC,iBAAiB,CAAC,EAC3B/H,KAAK,CAACf,WAAW,CAClB;YACD+I,YAAY,EAAE,SAAAA,aAACC,GAAG;cAAA,OAAKpD,gBAAgB,CAACoD,GAAG,EAAE,GAAG,CAAC;YAAA;YACjDC,YAAY,EAAE,SAAAA,aAAA;cAAA,OAAMxC,gBAAgB,CAAC,IAAI,CAAC;YAAA;YAC1CyC,OAAO,EAAE,SAAAA,QAACF,GAAG;cAAA,OAAKpD,gBAAgB,CAACoD,GAAG,EAAE,GAAG,CAAC;YAAA;UACxD,CAAW,EAAE,CACDzB,CAAC,CAAC,IAAI,EAAE;YACN,SAAO,CACLtF,MAAM,CAACkH,CAAC,EAAE,EACVlH,MAAM,CAAC6G,CAAC,CAAC,OAAO,CAAC,EACjB7G,MAAM,CAAC6G,CAAC,UAAAtG,MAAA,CAAUS,gBAAgB,CAACR,KAAK,CAAE,CAAC,CAC5C;YACDiF,KAAK,EAAE7C,OAAO,CAACpC;UAC7B,CAAa,EAAE,CAAC,CAACoG,GAAG,GAAG3H,KAAK,WAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG2H,GAAG,CAAC/B,IAAI,CAAC5F,KAAK,CAAC,CAAC,CAAC,CAC/D,CAAC;QACZ,CAAS;QACD,WAAS,SAAA0G,SAAA;UAAA,OAAML,CAAC,CAAC,KAAK,EAAE;YACtB,SAAOpF,SAAS,CAACsF,CAAC,CAAC,OAAO,CAAC;YAC3BC,KAAK,EAAE,CACL3C,UAAU,CAACtC,KAAK,EAChB;cAAE+B,eAAe,EAAEA,eAAe,CAAC/B;YAAK,CAAE,CAC3C;YACD2G,OAAO,EAAE3D;UACnB,CAAS,EAAE4B,QAAQ,CAAC;QAAA;MACpB,CAAO,CAAC,GAAGE,CAAC,CAAC8B,QAAQ,EAAE,EAAE,EAAE,CACnB9B,CAAC,CAAC,KAAK,EAAE;QACP,SAAOpF,SAAS,CAACsF,CAAC,CAAC,OAAO,CAAC;QAC3BC,KAAK,EAAE,CACL3C,UAAU,CAACtC,KAAK,EAChB;UAAE+B,eAAe,EAAEA,eAAe,CAAC/B;QAAK,CAAE,CAC3C;QACDhB,GAAG,EAAEsB,gBAAgB;QACrBqG,OAAO,EAAE3D;MACnB,CAAS,EAAE4B,QAAQ,CAAC,EACZE,CAAC,CAAC+B,mBAAoB,EAAE,EAAE,EAAE;QAC1B,WAAS,SAAA1B,SAAA,EAAM;UACb,IAAIiB,GAAG;UACP,OAAOU,cAAc,CAAChC,CAAC,CAAC,IAAI,EAAE;YAC5BiC,IAAI,EAAE,MAAM;YACZ,SAAO,CAACvH,MAAM,CAACkH,CAAC,EAAE,EAAElH,MAAM,CAAC6G,CAAC,CAAC,QAAQ,CAAC,CAAC;YACvCpB,KAAK,EAAE7C,OAAO,CAACpC;UAC7B,CAAa,EAAE,CAAC,CAACoG,GAAG,GAAG3H,KAAK,WAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG2H,GAAG,CAAC/B,IAAI,CAAC5F,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAACuI,KAAK,EAAEnG,MAAM,CAACb,KAAK,CAAC,CAAC,CAAC;QACpG;MACA,CAAS,CAAC,CACH,CAAC;MACF,OAAO8E,CAAC,CAAC,IAAI,EAAE;QACb,SAAO,CACLpF,SAAS,CAACgH,CAAC,EAAE,EACbhH,SAAS,CAACuH,EAAE,CAAC,QAAQ,EAAEzF,MAAM,CAACxB,KAAK,CAAC,EACpCN,SAAS,CAACuH,EAAE,CAAC,QAAQ,EAAEpG,MAAM,CAACb,KAAK,CAAC,EACpCN,SAAS,CAACuH,EAAE,CAAC,UAAU,EAAE3I,KAAK,CAACd,QAAQ,CAAC,CACzC;QACDuJ,IAAI,EAAE,UAAU;QAChBG,YAAY,EAAE,IAAI;QAClBC,YAAY,EAAEtG,MAAM,CAACb,KAAK;QAC1BsG,YAAY,EAAEnD,gBAAgB;QAC9BqD,YAAY,EAAE,SAAAA,aAAA;UAAA,OAAMxC,gBAAgB,CAAC,IAAI,CAAC;QAAA;QAC1CyC,OAAO,EAAEtD;MACjB,CAAO,EAAE,CAACoC,KAAK,CAAC,CAAC;IACjB,CAAK;EACL;AACA,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}