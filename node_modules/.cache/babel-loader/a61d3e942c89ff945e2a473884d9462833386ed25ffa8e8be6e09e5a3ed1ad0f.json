{"ast":null,"code":"import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, openBlock, createElementBlock, normalizeClass, createElementVNode, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\nvar _sfc_main = defineComponent({\n  name: \"ElColorHueSlider\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    },\n    vertical: Boolean\n  },\n  setup: function setup(props) {\n    var ns = useNamespace(\"color-hue-slider\");\n    var instance = getCurrentInstance();\n    var thumb = ref();\n    var bar = ref();\n    var thumbLeft = ref(0);\n    var thumbTop = ref(0);\n    var hueValue = computed(function () {\n      return props.color.get(\"hue\");\n    });\n    watch(function () {\n      return hueValue.value;\n    }, function () {\n      update();\n    });\n    function handleClick(event) {\n      var target = event.target;\n      if (target !== thumb.value) {\n        handleDrag(event);\n      }\n    }\n    function handleDrag(event) {\n      if (!bar.value || !thumb.value) return;\n      var el = instance.vnode.el;\n      var rect = el.getBoundingClientRect();\n      var _getClientXY = getClientXY(event),\n        clientX = _getClientXY.clientX,\n        clientY = _getClientXY.clientY;\n      var hue;\n      if (!props.vertical) {\n        var left = clientX - rect.left;\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n        left = Math.max(thumb.value.offsetWidth / 2, left);\n        hue = Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 360);\n      } else {\n        var top = clientY - rect.top;\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n        top = Math.max(thumb.value.offsetHeight / 2, top);\n        hue = Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 360);\n      }\n      props.color.set(\"hue\", hue);\n    }\n    function getThumbLeft() {\n      if (!thumb.value) return 0;\n      var el = instance.vnode.el;\n      if (props.vertical) return 0;\n      var hue = props.color.get(\"hue\");\n      if (!el) return 0;\n      return Math.round(hue * (el.offsetWidth - thumb.value.offsetWidth / 2) / 360);\n    }\n    function getThumbTop() {\n      if (!thumb.value) return 0;\n      var el = instance.vnode.el;\n      if (!props.vertical) return 0;\n      var hue = props.color.get(\"hue\");\n      if (!el) return 0;\n      return Math.round(hue * (el.offsetHeight - thumb.value.offsetHeight / 2) / 360);\n    }\n    function update() {\n      thumbLeft.value = getThumbLeft();\n      thumbTop.value = getThumbTop();\n    }\n    onMounted(function () {\n      if (!bar.value || !thumb.value) return;\n      var dragConfig = {\n        drag: function drag(event) {\n          handleDrag(event);\n        },\n        end: function end(event) {\n          handleDrag(event);\n        }\n      };\n      draggable(bar.value, dragConfig);\n      draggable(thumb.value, dragConfig);\n      update();\n    });\n    return {\n      bar: bar,\n      thumb: thumb,\n      thumbLeft: thumbLeft,\n      thumbTop: thumbTop,\n      hueValue: hueValue,\n      handleClick: handleClick,\n      update: update,\n      ns: ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    \"class\": normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"vertical\", _ctx.vertical)])\n  }, [createElementVNode(\"div\", {\n    ref: \"bar\",\n    \"class\": normalizeClass(_ctx.ns.e(\"bar\")),\n    onClick: _cache[0] || (_cache[0] = function () {\n      return _ctx.handleClick && _ctx.handleClick.apply(_ctx, arguments);\n    })\n  }, null, 2), createElementVNode(\"div\", {\n    ref: \"thumb\",\n    \"class\": normalizeClass(_ctx.ns.e(\"thumb\")),\n    style: normalizeStyle({\n      left: _ctx.thumbLeft + \"px\",\n      top: _ctx.thumbTop + \"px\"\n    })\n  }, null, 6)], 2);\n}\nvar HueSlider = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue\"]]);\nexport { HueSlider as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","props","color","type","Object","required","vertical","Boolean","setup","ns","useNamespace","instance","getCurrentInstance","thumb","ref","bar","thumbLeft","thumbTop","hueValue","computed","get","watch","value","update","handleClick","event","target","handleDrag","el","vnode","rect","getBoundingClientRect","_getClientXY","getClientXY","clientX","clientY","hue","left","Math","min","width","offsetWidth","max","round","top","height","offsetHeight","set","getThumbLeft","getThumbTop","onMounted","dragConfig","drag","end","draggable","createElementBlock","normalizeClass","_ctx","b","is","createElementVNode","e","onClick","_cache","apply","arguments","style","normalizeStyle"],"sources":["../../../../../../../packages/components/color-picker/src/components/hue-slider.vue"],"sourcesContent":["<template>\n  <div :class=\"[ns.b(), ns.is('vertical', vertical)]\">\n    <div ref=\"bar\" :class=\"ns.e('bar')\" @click=\"handleClick\" />\n    <div\n      ref=\"thumb\"\n      :class=\"ns.e('thumb')\"\n      :style=\"{\n        left: thumbLeft + 'px',\n        top: thumbTop + 'px',\n      }\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  onMounted,\n  ref,\n  watch,\n} from 'vue'\nimport { getClientXY } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport { draggable } from '../utils/draggable'\n\nimport type { PropType } from 'vue'\nimport type Color from '../utils/color'\n\nexport default defineComponent({\n  name: 'ElColorHueSlider',\n\n  props: {\n    color: {\n      type: Object as PropType<Color>,\n      required: true,\n    },\n\n    vertical: Boolean,\n  },\n  setup(props) {\n    const ns = useNamespace('color-hue-slider')\n    const instance = getCurrentInstance()!\n    // ref\n    const thumb = ref<HTMLElement>()\n    const bar = ref<HTMLElement>()\n    // data\n    const thumbLeft = ref(0)\n    const thumbTop = ref(0)\n    // computed\n    const hueValue = computed(() => {\n      return props.color.get('hue')\n    })\n    // watch\n    watch(\n      () => hueValue.value,\n      () => {\n        update()\n      }\n    )\n\n    // methods\n    function handleClick(event: MouseEvent | TouchEvent) {\n      const target = event.target\n\n      if (target !== thumb.value) {\n        handleDrag(event)\n      }\n    }\n\n    function handleDrag(event: MouseEvent | TouchEvent) {\n      if (!bar.value || !thumb.value) return\n\n      const el = instance.vnode.el as HTMLElement\n      const rect = el.getBoundingClientRect()\n      const { clientX, clientY } = getClientXY(event)\n      let hue\n\n      if (!props.vertical) {\n        let left = clientX - rect.left\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2)\n        left = Math.max(thumb.value.offsetWidth / 2, left)\n\n        hue = Math.round(\n          ((left - thumb.value.offsetWidth / 2) /\n            (rect.width - thumb.value.offsetWidth)) *\n            360\n        )\n      } else {\n        let top = clientY - rect.top\n\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2)\n        top = Math.max(thumb.value.offsetHeight / 2, top)\n        hue = Math.round(\n          ((top - thumb.value.offsetHeight / 2) /\n            (rect.height - thumb.value.offsetHeight)) *\n            360\n        )\n      }\n      props.color.set('hue', hue)\n    }\n\n    function getThumbLeft() {\n      if (!thumb.value) return 0\n\n      const el = instance.vnode.el\n\n      if (props.vertical) return 0\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      return Math.round(\n        (hue * (el.offsetWidth - thumb.value.offsetWidth / 2)) / 360\n      )\n    }\n\n    function getThumbTop() {\n      if (!thumb.value) return 0\n\n      const el = instance.vnode.el as HTMLElement\n      if (!props.vertical) return 0\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      return Math.round(\n        (hue * (el.offsetHeight - thumb.value.offsetHeight / 2)) / 360\n      )\n    }\n\n    function update() {\n      thumbLeft.value = getThumbLeft()\n      thumbTop.value = getThumbTop()\n    }\n\n    // mounded\n    onMounted(() => {\n      if (!bar.value || !thumb.value) return\n\n      const dragConfig = {\n        drag: (event: MouseEvent | TouchEvent) => {\n          handleDrag(event)\n        },\n        end: (event: MouseEvent | TouchEvent) => {\n          handleDrag(event)\n        },\n      }\n\n      draggable(bar.value, dragConfig)\n      draggable(thumb.value, dragConfig)\n      update()\n    })\n\n    return {\n      bar,\n      thumb,\n      thumbLeft,\n      thumbTop,\n      hueValue,\n      handleClick,\n      update,\n      ns,\n    }\n  },\n})\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}