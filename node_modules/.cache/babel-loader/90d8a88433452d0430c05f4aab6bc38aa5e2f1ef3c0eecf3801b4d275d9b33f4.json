{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { defineComponent, useSlots, reactive, ref, computed, watch, h, openBlock, createElementBlock, normalizeClass, unref, createVNode, withCtx, renderSlot, createElementVNode, toDisplayString, createCommentVNode } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../form/index.mjs';\nimport { ArrowLeft, ArrowRight } from '@element-plus/icons-vue';\nimport { transferProps, transferEmits } from './transfer.mjs';\nimport './composables/index.mjs';\nimport TransferPanel from './transfer-panel2.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useFormItem } from '../../form/src/hooks/use-form-item.mjs';\nimport { usePropsAlias } from './composables/use-props-alias.mjs';\nimport { useComputedData } from './composables/use-computed-data.mjs';\nimport { useCheckedChange } from './composables/use-checked-change.mjs';\nimport { useMove } from './composables/use-move.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { isEmpty, isUndefined } from '../../../utils/types.mjs';\nvar _hoisted_1 = {\n  key: 0\n};\nvar _hoisted_2 = {\n  key: 0\n};\nvar __default__ = defineComponent({\n  name: \"ElTransfer\"\n});\nvar _sfc_main = /* @__PURE__ */defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: transferProps,\n  emits: transferEmits,\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose,\n      emit = _ref.emit;\n    var props = __props;\n    var slots = useSlots();\n    var _useLocale = useLocale(),\n      t = _useLocale.t;\n    var ns = useNamespace(\"transfer\");\n    var _useFormItem = useFormItem(),\n      formItem = _useFormItem.formItem;\n    var checkedState = reactive({\n      leftChecked: [],\n      rightChecked: []\n    });\n    var propsAlias = usePropsAlias(props);\n    var _useComputedData = useComputedData(props),\n      sourceData = _useComputedData.sourceData,\n      targetData = _useComputedData.targetData;\n    var _useCheckedChange = useCheckedChange(checkedState, emit),\n      onSourceCheckedChange = _useCheckedChange.onSourceCheckedChange,\n      onTargetCheckedChange = _useCheckedChange.onTargetCheckedChange;\n    var _useMove = useMove(props, checkedState, emit),\n      addToLeft = _useMove.addToLeft,\n      addToRight = _useMove.addToRight;\n    var leftPanel = ref();\n    var rightPanel = ref();\n    var clearQuery = function clearQuery(which) {\n      switch (which) {\n        case \"left\":\n          leftPanel.value.query = \"\";\n          break;\n        case \"right\":\n          rightPanel.value.query = \"\";\n          break;\n      }\n    };\n    var hasButtonTexts = computed(function () {\n      return props.buttonTexts.length === 2;\n    });\n    var leftPanelTitle = computed(function () {\n      return props.titles[0] || t(\"el.transfer.titles.0\");\n    });\n    var rightPanelTitle = computed(function () {\n      return props.titles[1] || t(\"el.transfer.titles.1\");\n    });\n    var panelFilterPlaceholder = computed(function () {\n      return props.filterPlaceholder || t(\"el.transfer.filterPlaceholder\");\n    });\n    watch(function () {\n      return props.modelValue;\n    }, function () {\n      var _a;\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"change\")[\"catch\"](function (err) {\n          return debugWarn(err);\n        });\n      }\n    });\n    var optionRender = computed(function () {\n      return function (option) {\n        if (props.renderContent) return props.renderContent(h, option);\n        if (slots[\"default\"]) return slots[\"default\"]({\n          option: option\n        });\n        return h(\"span\", option[propsAlias.value.label] || option[propsAlias.value.key]);\n      };\n    });\n    expose({\n      clearQuery: clearQuery,\n      leftPanel: leftPanel,\n      rightPanel: rightPanel\n    });\n    return function (_ctx, _cache) {\n      return openBlock(), createElementBlock(\"div\", {\n        \"class\": normalizeClass(unref(ns).b())\n      }, [createVNode(TransferPanel, {\n        ref_key: \"leftPanel\",\n        ref: leftPanel,\n        data: unref(sourceData),\n        \"option-render\": unref(optionRender),\n        placeholder: unref(panelFilterPlaceholder),\n        title: unref(leftPanelTitle),\n        filterable: _ctx.filterable,\n        format: _ctx.format,\n        \"filter-method\": _ctx.filterMethod,\n        \"default-checked\": _ctx.leftDefaultChecked,\n        props: props.props,\n        onCheckedChange: unref(onSourceCheckedChange)\n      }, {\n        \"default\": withCtx(function () {\n          return [renderSlot(_ctx.$slots, \"left-footer\")];\n        }),\n        _: 3\n      }, 8, [\"data\", \"option-render\", \"placeholder\", \"title\", \"filterable\", \"format\", \"filter-method\", \"default-checked\", \"props\", \"onCheckedChange\"]), createElementVNode(\"div\", {\n        \"class\": normalizeClass(unref(ns).e(\"buttons\"))\n      }, [createVNode(unref(ElButton), {\n        type: \"primary\",\n        \"class\": normalizeClass([unref(ns).e(\"button\"), unref(ns).is(\"with-texts\", unref(hasButtonTexts))]),\n        disabled: unref(isEmpty)(checkedState.rightChecked),\n        onClick: unref(addToLeft)\n      }, {\n        \"default\": withCtx(function () {\n          return [createVNode(unref(ElIcon), null, {\n            \"default\": withCtx(function () {\n              return [createVNode(unref(ArrowLeft))];\n            }),\n            _: 1\n          }), !unref(isUndefined)(_ctx.buttonTexts[0]) ? (openBlock(), createElementBlock(\"span\", _hoisted_1, toDisplayString(_ctx.buttonTexts[0]), 1)) : createCommentVNode(\"v-if\", true)];\n        }),\n        _: 1\n      }, 8, [\"class\", \"disabled\", \"onClick\"]), createVNode(unref(ElButton), {\n        type: \"primary\",\n        \"class\": normalizeClass([unref(ns).e(\"button\"), unref(ns).is(\"with-texts\", unref(hasButtonTexts))]),\n        disabled: unref(isEmpty)(checkedState.leftChecked),\n        onClick: unref(addToRight)\n      }, {\n        \"default\": withCtx(function () {\n          return [!unref(isUndefined)(_ctx.buttonTexts[1]) ? (openBlock(), createElementBlock(\"span\", _hoisted_2, toDisplayString(_ctx.buttonTexts[1]), 1)) : createCommentVNode(\"v-if\", true), createVNode(unref(ElIcon), null, {\n            \"default\": withCtx(function () {\n              return [createVNode(unref(ArrowRight))];\n            }),\n            _: 1\n          })];\n        }),\n        _: 1\n      }, 8, [\"class\", \"disabled\", \"onClick\"])], 2), createVNode(TransferPanel, {\n        ref_key: \"rightPanel\",\n        ref: rightPanel,\n        data: unref(targetData),\n        \"option-render\": unref(optionRender),\n        placeholder: unref(panelFilterPlaceholder),\n        filterable: _ctx.filterable,\n        format: _ctx.format,\n        \"filter-method\": _ctx.filterMethod,\n        title: unref(rightPanelTitle),\n        \"default-checked\": _ctx.rightDefaultChecked,\n        props: props.props,\n        onCheckedChange: unref(onTargetCheckedChange)\n      }, {\n        \"default\": withCtx(function () {\n          return [renderSlot(_ctx.$slots, \"right-footer\")];\n        }),\n        _: 3\n      }, 8, [\"data\", \"option-render\", \"placeholder\", \"filterable\", \"format\", \"filter-method\", \"title\", \"default-checked\", \"props\", \"onCheckedChange\"])], 2);\n    };\n  }\n}));\nvar Transfer = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue\"]]);\nexport { Transfer as default };","map":{"version":3,"names":["name","slots","useSlots","_useLocale","useLocale","t","ns","useNamespace","_useFormItem","useFormItem","formItem","checkedState","reactive","leftChecked","rightChecked","propsAlias","usePropsAlias","props","_useComputedData","useComputedData","sourceData","targetData","_useCheckedChange","useCheckedChange","emit","onSourceCheckedChange","onTargetCheckedChange","_useMove","useMove","addToLeft","addToRight","leftPanel","ref","rightPanel","clearQuery","which","value","query","hasButtonTexts","computed","buttonTexts","length","leftPanelTitle","titles","rightPanelTitle","panelFilterPlaceholder","filterPlaceholder","watch","modelValue","_a","validateEvent","validate","call","err","debugWarn","optionRender","option","renderContent","h","label","key","expose"],"sources":["../../../../../../packages/components/transfer/src/transfer.vue"],"sourcesContent":["<template>\n  <div :class=\"ns.b()\">\n    <transfer-panel\n      ref=\"leftPanel\"\n      :data=\"sourceData\"\n      :option-render=\"optionRender\"\n      :placeholder=\"panelFilterPlaceholder\"\n      :title=\"leftPanelTitle\"\n      :filterable=\"filterable\"\n      :format=\"format\"\n      :filter-method=\"filterMethod\"\n      :default-checked=\"leftDefaultChecked\"\n      :props=\"props.props\"\n      @checked-change=\"onSourceCheckedChange\"\n    >\n      <slot name=\"left-footer\" />\n    </transfer-panel>\n    <div :class=\"ns.e('buttons')\">\n      <el-button\n        type=\"primary\"\n        :class=\"[ns.e('button'), ns.is('with-texts', hasButtonTexts)]\"\n        :disabled=\"isEmpty(checkedState.rightChecked)\"\n        @click=\"addToLeft\"\n      >\n        <el-icon><arrow-left /></el-icon>\n        <span v-if=\"!isUndefined(buttonTexts[0])\">{{ buttonTexts[0] }}</span>\n      </el-button>\n      <el-button\n        type=\"primary\"\n        :class=\"[ns.e('button'), ns.is('with-texts', hasButtonTexts)]\"\n        :disabled=\"isEmpty(checkedState.leftChecked)\"\n        @click=\"addToRight\"\n      >\n        <span v-if=\"!isUndefined(buttonTexts[1])\">{{ buttonTexts[1] }}</span>\n        <el-icon><arrow-right /></el-icon>\n      </el-button>\n    </div>\n    <transfer-panel\n      ref=\"rightPanel\"\n      :data=\"targetData\"\n      :option-render=\"optionRender\"\n      :placeholder=\"panelFilterPlaceholder\"\n      :filterable=\"filterable\"\n      :format=\"format\"\n      :filter-method=\"filterMethod\"\n      :title=\"rightPanelTitle\"\n      :default-checked=\"rightDefaultChecked\"\n      :props=\"props.props\"\n      @checked-change=\"onTargetCheckedChange\"\n    >\n      <slot name=\"right-footer\" />\n    </transfer-panel>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, h, reactive, ref, useSlots, watch } from 'vue'\nimport { debugWarn, isEmpty, isUndefined } from '@element-plus/utils'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { ElButton } from '@element-plus/components/button'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useFormItem } from '@element-plus/components/form'\nimport { ArrowLeft, ArrowRight } from '@element-plus/icons-vue'\nimport { transferEmits, transferProps } from './transfer'\nimport {\n  useCheckedChange,\n  useComputedData,\n  useMove,\n  usePropsAlias,\n} from './composables'\nimport TransferPanel from './transfer-panel.vue'\n\nimport type {\n  TransferCheckedState,\n  TransferDataItem,\n  TransferDirection,\n} from './transfer'\nimport type { TransferPanelInstance } from './transfer-panel'\n\ndefineOptions({\n  name: 'ElTransfer',\n})\n\nconst props = defineProps(transferProps)\nconst emit = defineEmits(transferEmits)\nconst slots = useSlots()\n\nconst { t } = useLocale()\nconst ns = useNamespace('transfer')\nconst { formItem } = useFormItem()\n\nconst checkedState = reactive<TransferCheckedState>({\n  leftChecked: [],\n  rightChecked: [],\n})\n\nconst propsAlias = usePropsAlias(props)\n\nconst { sourceData, targetData } = useComputedData(props)\n\nconst { onSourceCheckedChange, onTargetCheckedChange } = useCheckedChange(\n  checkedState,\n  emit\n)\n\nconst { addToLeft, addToRight } = useMove(props, checkedState, emit)\n\nconst leftPanel = ref<TransferPanelInstance>()\nconst rightPanel = ref<TransferPanelInstance>()\n\nconst clearQuery = (which: TransferDirection) => {\n  switch (which) {\n    case 'left':\n      leftPanel.value!.query = ''\n      break\n    case 'right':\n      rightPanel.value!.query = ''\n      break\n  }\n}\n\nconst hasButtonTexts = computed(() => props.buttonTexts.length === 2)\n\nconst leftPanelTitle = computed(\n  () => props.titles[0] || t('el.transfer.titles.0')\n)\n\nconst rightPanelTitle = computed(\n  () => props.titles[1] || t('el.transfer.titles.1')\n)\n\nconst panelFilterPlaceholder = computed(\n  () => props.filterPlaceholder || t('el.transfer.filterPlaceholder')\n)\n\nwatch(\n  () => props.modelValue,\n  () => {\n    if (props.validateEvent) {\n      formItem?.validate?.('change').catch((err) => debugWarn(err))\n    }\n  }\n)\n\nconst optionRender = computed(() => (option: TransferDataItem) => {\n  if (props.renderContent) return props.renderContent(h, option)\n\n  if (slots.default) return slots.default({ option })\n\n  return h(\n    'span',\n    option[propsAlias.value.label] || option[propsAlias.value.key]\n  )\n})\n\ndefineExpose({\n  /** @description clear the filter keyword of a certain panel */\n  clearQuery,\n  /** @description left panel ref */\n  leftPanel,\n  /** @description left panel ref */\n  rightPanel,\n})\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iCA+Ec;EACZA,IAAM;AACR;;;;;;;;IAIA,IAAMC,KAAA,GAAQC,QAAS;IAEjB,IAAAC,UAAA,GAAQC,SAAU;MAAhBC,CAAA,GAAAF,UAAA,CAAAE,CAAA;IACF,IAAAC,EAAA,GAAKC,YAAA,CAAa,UAAU;IAC5B,IAAAC,YAAA,GAAeC,WAAY;MAAzBC,QAAA,GAAAF,YAAA,CAAAE,QAAA;IAER,IAAMC,YAAA,GAAeC,QAA+B;MAClDC,WAAA,EAAa,EAAC;MACdC,YAAA,EAAc;IAAC,CAChB;IAEK,IAAAC,UAAA,GAAaC,aAAA,CAAcC,KAAK;IAEtC,IAAAC,gBAAA,GAAmCC,eAAA,CAAgBF,KAAK;MAAhDG,UAAA,GAAAF,gBAAA,CAAAE,UAAA;MAAYC,UAAe,GAAAH,gBAAA,CAAfG,UAAe;IAEnC,IAAAC,iBAAA,GAAyDC,gBAAA,CACvDZ,YAAA,EACAa,IACF;MAHQC,qBAAA,GAAAH,iBAAA,CAAAG,qBAAA;MAAuBC,qBAA0B,GAAAJ,iBAAA,CAA1BI,qBAA0B;IAKzD,IAAAC,QAAA,GAAkCC,OAAQ,CAAAX,KAAA,EAAON,YAAA,EAAca,IAAI;MAA3DK,SAAW,GAAAF,QAAA,CAAXE,SAAW;MAAAC,UAAA,GAAAH,QAAA,CAAAG,UAAA;IAEnB,IAAMC,SAAA,GAAYC,GAA2B;IAC7C,IAAMC,UAAA,GAAaD,GAA2B;IAExC,IAAAE,UAAA,GAAa,SAAbA,WAAcC,KAA6B;MACvC,QAAAA,KAAA;QACD;UACHJ,SAAA,CAAUK,KAAA,CAAOC,KAAQ;UACzB;QACG;UACHJ,UAAA,CAAWG,KAAA,CAAOC,KAAQ;UAC1B;MAAA;IAAA,CAEN;IAEA,IAAMC,cAAA,GAAiBC,QAAS;MAAA,OAAMtB,KAAM,CAAAuB,WAAA,CAAYC,MAAA,KAAW,CAAC;IAAA;IAE9D,IAAAC,cAAA,GAAiBH,QAAA,CACrB;MAAA,OAAMtB,KAAA,CAAM0B,MAAA,CAAO,CAAM,KAAAtC,CAAA,CAAE,sBAAsB,CACnD;IAAA;IAEM,IAAAuC,eAAA,GAAkBL,QAAA,CACtB;MAAA,OAAMtB,KAAA,CAAM0B,MAAA,CAAO,CAAM,KAAAtC,CAAA,CAAE,sBAAsB,CACnD;IAAA;IAEA,IAAMwC,sBAAA,GAAyBN,QAC7B;MAAA,OAAMtB,KAAA,CAAM6B,iBAAqB,IAAAzC,CAAA,CAAE,+BAA+B,CACpE;IAAA;IAGE0C,KAAA;MAAA,OAAM9B,KAAM,CAAA+B,UAAA;IAAA,GACZ,YAAM;MACJ,IAAIC,EAAA;MACQ,IAAAhC,KAAA,CAAAiC,aAAW;QACvB,CAAAD,EAAA,GAAAvC,QAAA,oBAAAA,QAAA,CAAAyC,QAAA,qBAAAF,EAAA,CAAAG,IAAA,CAAA1C,QAAA,+BAAA2C,GAAA;UAAA,OAAAC,SAAA,CAAAD,GAAA;QAAA;MAAA;IAIJ;IACE,IAAIE,YAAM,GAAAhB,QAAA;MAAA,iBAAAiB,MAAA;QAAsB,IAAAvC,KAAA,CAAAwC,aAAoB,EAEpD,OAAUxC,KAAA,CAAAwC,aAAA,CAAAC,CAAA,EAAAF,MAAA;QAAS,IAAAvD,KAAO,WAAM,EAEzB,OACLA,KAAA,WACO;UAAAuD,MAAA,EAAAA;QAAA;QAEV,OAAAE,CAAA,SAAAF,MAAA,CAAAzC,UAAA,CAAAqB,KAAA,CAAAuB,KAAA,KAAAH,MAAA,CAAAzC,UAAA,CAAAqB,KAAA,CAAAwB,GAAA;MAED,CAAa;IAAA;IAEXC,MAAA;MAEA3B,UAAA,EAAAA,UAAA;MAEAH,SAAA,EAAAA,SAAA;MACDE,UAAA,EAAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}