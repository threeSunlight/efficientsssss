{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { defineComponent, inject, computed, ref, onMounted, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport '../../../hooks/index.mjs';\nimport { selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nvar _sfc_main = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n  setup: function setup() {\n    var select = inject(selectKey);\n    var ns = useNamespace(\"select\");\n    var popperClass = computed(function () {\n      return select.props.popperClass;\n    });\n    var isMultiple = computed(function () {\n      return select.props.multiple;\n    });\n    var isFitInputWidth = computed(function () {\n      return select.props.fitInputWidth;\n    });\n    var minWidth = ref(\"\");\n    function updateMinWidth() {\n      var _a;\n      minWidth.value = \"\".concat((_a = select.selectWrapper) == null ? void 0 : _a.offsetWidth, \"px\");\n    }\n    onMounted(function () {\n      updateMinWidth();\n      useResizeObserver(select.selectWrapper, updateMinWidth);\n    });\n    return {\n      ns: ns,\n      minWidth: minWidth,\n      popperClass: popperClass,\n      isMultiple: isMultiple,\n      isFitInputWidth: isFitInputWidth\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    \"class\": normalizeClass([_ctx.ns.b(\"dropdown\"), _ctx.ns.is(\"multiple\", _ctx.isMultiple), _ctx.popperClass]),\n    style: normalizeStyle(_defineProperty({}, _ctx.isFitInputWidth ? \"width\" : \"minWidth\", _ctx.minWidth))\n  }, [renderSlot(_ctx.$slots, \"default\")], 6);\n}\nvar ElSelectMenu = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue\"]]);\nexport { ElSelectMenu as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","componentName","setup","select","inject","selectKey","ns","useNamespace","popperClass","computed","props","isMultiple","multiple","isFitInputWidth","fitInputWidth","minWidth","ref","updateMinWidth","_a","value","concat","selectWrapper","offsetWidth","onMounted","useResizeObserver","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","normalizeClass","_ctx","b","is","style","normalizeStyle","_defineProperty","renderSlot","$slots"],"sources":["../../../../../../packages/components/select/src/select-dropdown.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[ns.b('dropdown'), ns.is('multiple', isMultiple), popperClass]\"\n    :style=\"{ [isFitInputWidth ? 'width' : 'minWidth']: minWidth }\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, onMounted, ref } from 'vue'\nimport { useResizeObserver } from '@vueuse/core'\nimport { useNamespace } from '@element-plus/hooks'\nimport { selectKey } from './token'\n\nexport default defineComponent({\n  name: 'ElSelectDropdown',\n\n  componentName: 'ElSelectDropdown',\n\n  setup() {\n    const select = inject(selectKey)!\n    const ns = useNamespace('select')\n\n    // computed\n    const popperClass = computed(() => select.props.popperClass)\n    const isMultiple = computed(() => select.props.multiple)\n    const isFitInputWidth = computed(() => select.props.fitInputWidth)\n    const minWidth = ref('')\n\n    function updateMinWidth() {\n      minWidth.value = `${select.selectWrapper?.offsetWidth}px`\n    }\n\n    onMounted(() => {\n      // TODO: updatePopper\n      // popper.value.update()\n      updateMinWidth()\n      useResizeObserver(select.selectWrapper, updateMinWidth)\n    })\n\n    return {\n      ns,\n      minWidth,\n      popperClass,\n      isMultiple,\n      isFitInputWidth,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;;;;;AAeA,IAAKA,SAAA,GAAaC,eAAa;EAC7BC,IAAM;EAENC,aAAe;EAEfC,KAAQ,WAAAA,MAAA;IACA,IAAAC,MAAA,GAASC,MAAA,CAAOC,SAAS;IACzB,IAAAC,EAAA,GAAKC,YAAA,CAAa,QAAQ;IAGhC,IAAMC,WAAc,GAAAC,QAAA,CAAS;MAAA,OAAMN,MAAA,CAAOO,KAAA,CAAMF,WAAW;IAAA;IAC3D,IAAMG,UAAa,GAAAF,QAAA,CAAS;MAAA,OAAMN,MAAA,CAAOO,KAAA,CAAME,QAAQ;IAAA;IACvD,IAAMC,eAAkB,GAAAJ,QAAA,CAAS;MAAA,OAAMN,MAAA,CAAOO,KAAA,CAAMI,aAAa;IAAA;IAC3D,IAAAC,QAAA,GAAWC,GAAA,CAAI,EAAE;IAEG,SAAAC,eAAA;MACf,IAAAC,EAAA;MACXH,QAAA,CAAAI,KAAA,MAAAC,MAAA,EAAAF,EAAA,GAAAf,MAAA,CAAAkB,aAAA,qBAAAH,EAAA,CAAAI,WAAA;IAEA;IAGiBC,SAAA;MACGN,cAAA;MACnBO,iBAAA,CAAArB,MAAA,CAAAkB,aAAA,EAAAJ,cAAA;IAED,CAAO;IACL;MACAX,EAAA,EAAAA,EAAA;MACAS,QAAA,EAAAA,QAAA;MACAP,WAAA,EAAAA,WAAA;MACAG,UAAA,EAAAA,UAAA;MACFE,eAAA,EAAAA;IAAA,CACF;EACF;;yBA3CQ,EAAAY,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,QAAA;EAJH,OAAAC,SAAQ,IAAAC,kBAAI;IACZ,SAAKC,cAAA,EAAAC,IAAoB,CAAA3B,EAAA,CAAA4B,CAAA,cAAAD,IAAA,CAAA3B,EAAA,CAAA6B,EAAA,aAAAF,IAAkC,CAAAtB,UAAA,GAAAsB,IAAA,CAAAzB,WAAA;IAAA4B,KAAA,EAAAC,cAAA,CAAAC,eAAA,KAAAL,IAAA,CAAApB,eAAA,yBAAAoB,IAAA,CAAAlB,QAAA;KAEpD,CAAAwB,UAAA,CAAAN,IAAA,CAAAO,MAAA,a"},"metadata":{},"sourceType":"module","externalDependencies":[]}