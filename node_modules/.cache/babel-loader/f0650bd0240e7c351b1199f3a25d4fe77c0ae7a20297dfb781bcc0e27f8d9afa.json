{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { defineComponent, inject, computed, resolveComponent, openBlock, createElementBlock, Fragment, mergeProps, createCommentVNode, createElementVNode, withModifiers, createBlock, withCtx, resolveDynamicComponent, renderSlot } from 'vue';\nimport '../../roving-focus-group/index.mjs';\nimport '../../collection/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { dropdownItemProps, DROPDOWN_COLLECTION_ITEM_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY } from './dropdown.mjs';\nimport { DROPDOWN_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY$1 } from '../../roving-focus-group/src/roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { COLLECTION_ITEM_SIGN } from '../../collection/src/collection.mjs';\nvar _sfc_main = defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon: ElIcon\n  },\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup: function setup(_, _ref) {\n    var emit = _ref.emit;\n    var ns = useNamespace(\"dropdown\");\n    var _inject = inject(DROPDOWN_INJECTION_KEY, void 0),\n      menuRole = _inject.role;\n    var _inject2 = inject(COLLECTION_ITEM_INJECTION_KEY, void 0),\n      dropdownCollectionItemRef = _inject2.collectionItemRef;\n    var _inject3 = inject(COLLECTION_ITEM_INJECTION_KEY$1, void 0),\n      rovingFocusCollectionItemRef = _inject3.collectionItemRef;\n    var _inject4 = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0),\n      rovingFocusGroupItemRef = _inject4.rovingFocusGroupItemRef,\n      tabIndex = _inject4.tabIndex,\n      handleFocus = _inject4.handleFocus,\n      handleItemKeydown = _inject4.handleKeydown,\n      handleMousedown = _inject4.handleMousedown;\n    var itemRef = composeRefs(dropdownCollectionItemRef, rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    var role = computed(function () {\n      if (menuRole.value === \"menu\") {\n        return \"menuitem\";\n      } else if (menuRole.value === \"navigation\") {\n        return \"link\";\n      }\n      return \"button\";\n    });\n    var handleKeydown = composeEventHandlers(function (e) {\n      var code = e.code;\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns: ns,\n      itemRef: itemRef,\n      dataset: _defineProperty({}, COLLECTION_ITEM_SIGN, \"\"),\n      role: role,\n      tabIndex: tabIndex,\n      handleFocus: handleFocus,\n      handleKeydown: handleKeydown,\n      handleMousedown: handleMousedown\n    };\n  }\n});\nvar _hoisted_1 = [\"aria-disabled\", \"tabindex\", \"role\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_icon = resolveComponent(\"el-icon\");\n  return openBlock(), createElementBlock(Fragment, null, [_ctx.divided ? (openBlock(), createElementBlock(\"li\", mergeProps({\n    key: 0,\n    role: \"separator\",\n    \"class\": _ctx.ns.bem(\"menu\", \"item\", \"divided\")\n  }, _ctx.$attrs), null, 16)) : createCommentVNode(\"v-if\", true), createElementVNode(\"li\", mergeProps({\n    ref: _ctx.itemRef\n  }, _objectSpread(_objectSpread({}, _ctx.dataset), _ctx.$attrs), {\n    \"aria-disabled\": _ctx.disabled,\n    \"class\": [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: _ctx.role,\n    onClick: _cache[0] || (_cache[0] = function (e) {\n      return _ctx.$emit(\"clickimpl\", e);\n    }),\n    onFocus: _cache[1] || (_cache[1] = function () {\n      return _ctx.handleFocus && _ctx.handleFocus.apply(_ctx, arguments);\n    }),\n    onKeydown: _cache[2] || (_cache[2] = withModifiers(function () {\n      return _ctx.handleKeydown && _ctx.handleKeydown.apply(_ctx, arguments);\n    }, [\"self\"])),\n    onMousedown: _cache[3] || (_cache[3] = function () {\n      return _ctx.handleMousedown && _ctx.handleMousedown.apply(_ctx, arguments);\n    }),\n    onPointermove: _cache[4] || (_cache[4] = function (e) {\n      return _ctx.$emit(\"pointermove\", e);\n    }),\n    onPointerleave: _cache[5] || (_cache[5] = function (e) {\n      return _ctx.$emit(\"pointerleave\", e);\n    })\n  }), [_ctx.icon ? (openBlock(), createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    \"default\": withCtx(function () {\n      return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))];\n    }),\n    _: 1\n  })) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")], 16, _hoisted_1)], 64);\n}\nvar ElDropdownItemImpl = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue\"]]);\nexport { ElDropdownItemImpl as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","ElIcon","props","dropdownItemProps","emits","setup","_","_ref","emit","ns","useNamespace","_inject","inject","DROPDOWN_INJECTION_KEY","menuRole","role","_inject2","COLLECTION_ITEM_INJECTION_KEY","dropdownCollectionItemRef","collectionItemRef","_inject3","COLLECTION_ITEM_INJECTION_KEY$1","rovingFocusCollectionItemRef","_inject4","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","rovingFocusGroupItemRef","tabIndex","handleFocus","handleItemKeydown","handleKeydown","handleMousedown","itemRef","composeRefs","computed","value","composeEventHandlers","e","code","EVENT_CODE","enter","space","preventDefault","stopImmediatePropagation","dataset","_defineProperty","COLLECTION_ITEM_SIGN","_ctx","divided","openBlock","createElementBlock","mergeProps","key","bem","$attrs","createCommentVNode","createElementVNode","ref","_objectSpread","disabled","be","is","tabindex","onClick","_cache","$emit","onFocus","apply","arguments","onKeydown","withModifiers","onMousedown","onPointermove","onPointerleave","icon","createBlock","_component_el_icon","withCtx","resolveDynamicComponent","renderSlot","$slots","_hoisted_1"],"sources":["../../../../../../packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <li\n    v-if=\"divided\"\n    role=\"separator\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n    v-bind=\"$attrs\"\n  />\n  <li\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    :role=\"role\"\n    @click=\"(e) => $emit('clickimpl', e)\"\n    @focus=\"handleFocus\"\n    @keydown.self=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon\">\n      <component :is=\"icon\" />\n    </el-icon>\n    <slot />\n  </li>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@element-plus/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@element-plus/components/collection'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport { composeEventHandlers, composeRefs } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport {\n  DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n  dropdownItemProps,\n} from './dropdown'\nimport { DROPDOWN_INJECTION_KEY } from './tokens'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    ElIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click', 'clickimpl'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { role: menuRole } = inject(DROPDOWN_INJECTION_KEY, undefined)!\n\n    const { collectionItemRef: dropdownCollectionItemRef } = inject(\n      DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n      undefined\n    )!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      dropdownCollectionItemRef,\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const role = computed<string>(() => {\n      if (menuRole.value === 'menu') {\n        return 'menuitem'\n      } else if (menuRole.value === 'navigation') {\n        return 'link'\n      }\n      return 'button'\n    })\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      const { code } = e\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('clickimpl', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}