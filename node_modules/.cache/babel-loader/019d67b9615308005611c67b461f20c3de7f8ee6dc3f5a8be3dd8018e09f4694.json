{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { ref, watchEffect, watch, unref, computed, onMounted, nextTick } from 'vue';\nimport { useEventListener, useResizeObserver } from '@vueuse/core';\nimport '../../../form/index.mjs';\nimport { useFormSize } from '../../../form/src/hooks/use-form-common-props.mjs';\nfunction useStyle(props, layout, store, table) {\n  var isHidden = ref(false);\n  var renderExpanded = ref(null);\n  var resizeProxyVisible = ref(false);\n  var setDragVisible = function setDragVisible(visible) {\n    resizeProxyVisible.value = visible;\n  };\n  var resizeState = ref({\n    width: null,\n    height: null,\n    headerHeight: null\n  });\n  var isGroup = ref(false);\n  var scrollbarViewStyle = {\n    display: \"inline-block\",\n    verticalAlign: \"middle\"\n  };\n  var tableWidth = ref();\n  var tableScrollHeight = ref(0);\n  var bodyScrollHeight = ref(0);\n  var headerScrollHeight = ref(0);\n  var footerScrollHeight = ref(0);\n  var appendScrollHeight = ref(0);\n  watchEffect(function () {\n    layout.setHeight(props.height);\n  });\n  watchEffect(function () {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(function () {\n    return [props.currentRowKey, store.states.rowKey];\n  }, function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      currentRowKey = _ref2[0],\n      rowKey = _ref2[1];\n    if (!unref(rowKey) || !unref(currentRowKey)) return;\n    store.setCurrentRowKey(\"\".concat(currentRowKey));\n  }, {\n    immediate: true\n  });\n  watch(function () {\n    return props.data;\n  }, function (data) {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(function () {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n  var handleMouseLeave = function handleMouseLeave() {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState) table.hoverState = null;\n  };\n  var handleHeaderFooterMousewheel = function handleHeaderFooterMousewheel(event, data) {\n    var pixelX = data.pixelX,\n      pixelY = data.pixelY;\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n  var shouldUpdateHeight = computed(function () {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n  var tableBodyStyles = computed(function () {\n    return {\n      width: layout.bodyWidth.value ? \"\".concat(layout.bodyWidth.value, \"px\") : \"\"\n    };\n  });\n  var doLayout = function doLayout() {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n    layout.updateColumnsWidth();\n    requestAnimationFrame(syncPosition);\n  };\n  onMounted( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var el, tableHeader;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return nextTick();\n        case 2:\n          store.updateColumns();\n          bindEvents();\n          requestAnimationFrame(doLayout);\n          el = table.vnode.el;\n          tableHeader = table.refs.headerWrapper;\n          if (props.flexible && el && el.parentElement) {\n            el.parentElement.style.minWidth = \"0\";\n          }\n          resizeState.value = {\n            width: tableWidth.value = el.offsetWidth,\n            height: el.offsetHeight,\n            headerHeight: props.showHeader && tableHeader ? tableHeader.offsetHeight : null\n          };\n          store.states.columns.value.forEach(function (column) {\n            if (column.filteredValue && column.filteredValue.length) {\n              table.store.commit(\"filterChange\", {\n                column: column,\n                values: column.filteredValue,\n                silent: true\n              });\n            }\n          });\n          table.$ready = true;\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })));\n  var setScrollClassByEl = function setScrollClassByEl(el, className) {\n    if (!el) return;\n    var classList = Array.from(el.classList).filter(function (item) {\n      return !item.startsWith(\"is-scrolling-\");\n    });\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n  var setScrollClass = function setScrollClass(className) {\n    var tableWrapper = table.refs.tableWrapper;\n    setScrollClassByEl(tableWrapper, className);\n  };\n  var hasScrollClass = function hasScrollClass(className) {\n    var tableWrapper = table.refs.tableWrapper;\n    return !!(tableWrapper && tableWrapper.classList.contains(className));\n  };\n  var syncPosition = function syncPosition() {\n    if (!table.refs.scrollBarRef) return;\n    if (!layout.scrollX.value) {\n      var scrollingNoneClass = \"is-scrolling-none\";\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass);\n      }\n      return;\n    }\n    var scrollContainer = table.refs.scrollBarRef.wrapRef;\n    if (!scrollContainer) return;\n    var scrollLeft = scrollContainer.scrollLeft,\n      offsetWidth = scrollContainer.offsetWidth,\n      scrollWidth = scrollContainer.scrollWidth;\n    var _table$refs = table.refs,\n      headerWrapper = _table$refs.headerWrapper,\n      footerWrapper = _table$refs.footerWrapper;\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft;\n    var maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  };\n  var bindEvents = function bindEvents() {\n    if (!table.refs.scrollBarRef) return;\n    if (table.refs.scrollBarRef.wrapRef) {\n      useEventListener(table.refs.scrollBarRef.wrapRef, \"scroll\", syncPosition, {\n        passive: true\n      });\n    }\n    if (props.fit) {\n      useResizeObserver(table.vnode.el, resizeListener);\n    } else {\n      useEventListener(window, \"resize\", resizeListener);\n    }\n    useResizeObserver(table.refs.bodyWrapper, function () {\n      var _a, _b;\n      resizeListener();\n      (_b = (_a = table.refs) == null ? void 0 : _a.scrollBarRef) == null ? void 0 : _b.update();\n    });\n  };\n  var resizeListener = function resizeListener() {\n    var _a, _b, _c, _d;\n    var el = table.vnode.el;\n    if (!table.$ready || !el) return;\n    var shouldUpdateLayout = false;\n    var _resizeState$value = resizeState.value,\n      oldWidth = _resizeState$value.width,\n      oldHeight = _resizeState$value.height,\n      oldHeaderHeight = _resizeState$value.headerHeight;\n    var width = tableWidth.value = el.offsetWidth;\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n    var height = el.offsetHeight;\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n    var tableHeader = props.tableLayout === \"fixed\" ? table.refs.headerWrapper : (_a = table.refs.tableHeaderRef) == null ? void 0 : _a.$el;\n    if (props.showHeader && (tableHeader == null ? void 0 : tableHeader.offsetHeight) !== oldHeaderHeight) {\n      shouldUpdateLayout = true;\n    }\n    tableScrollHeight.value = ((_b = table.refs.tableWrapper) == null ? void 0 : _b.scrollHeight) || 0;\n    headerScrollHeight.value = (tableHeader == null ? void 0 : tableHeader.scrollHeight) || 0;\n    footerScrollHeight.value = ((_c = table.refs.footerWrapper) == null ? void 0 : _c.offsetHeight) || 0;\n    appendScrollHeight.value = ((_d = table.refs.appendWrapper) == null ? void 0 : _d.offsetHeight) || 0;\n    bodyScrollHeight.value = tableScrollHeight.value - headerScrollHeight.value - footerScrollHeight.value - appendScrollHeight.value;\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width: width,\n        height: height,\n        headerHeight: props.showHeader && (tableHeader == null ? void 0 : tableHeader.offsetHeight) || 0\n      };\n      doLayout();\n    }\n  };\n  var tableSize = useFormSize();\n  var bodyWidth = computed(function () {\n    var bodyWidth_ = layout.bodyWidth,\n      scrollY = layout.scrollY,\n      gutterWidth = layout.gutterWidth;\n    return bodyWidth_.value ? \"\".concat(bodyWidth_.value - (scrollY.value ? gutterWidth : 0), \"px\") : \"\";\n  });\n  var tableLayout = computed(function () {\n    if (props.maxHeight) return \"fixed\";\n    return props.tableLayout;\n  });\n  var emptyBlockStyle = computed(function () {\n    if (props.data && props.data.length) return null;\n    var height = \"100%\";\n    if (props.height && bodyScrollHeight.value) {\n      height = \"\".concat(bodyScrollHeight.value, \"px\");\n    }\n    var width = tableWidth.value;\n    return {\n      width: width ? \"\".concat(width, \"px\") : \"\",\n      height: height\n    };\n  });\n  var tableInnerStyle = computed(function () {\n    if (props.height) {\n      return {\n        height: !Number.isNaN(Number(props.height)) ? \"\".concat(props.height, \"px\") : props.height\n      };\n    }\n    if (props.maxHeight) {\n      return {\n        maxHeight: !Number.isNaN(Number(props.maxHeight)) ? \"\".concat(props.maxHeight, \"px\") : props.maxHeight\n      };\n    }\n    return {};\n  });\n  var scrollbarStyle = computed(function () {\n    if (props.height) {\n      return {\n        height: \"100%\"\n      };\n    }\n    if (props.maxHeight) {\n      if (!Number.isNaN(Number(props.maxHeight))) {\n        return {\n          maxHeight: \"\".concat(props.maxHeight - headerScrollHeight.value - footerScrollHeight.value, \"px\")\n        };\n      } else {\n        return {\n          maxHeight: \"calc(\".concat(props.maxHeight, \" - \").concat(headerScrollHeight.value + footerScrollHeight.value, \"px)\")\n        };\n      }\n    }\n    return {};\n  });\n  var handleFixedMousewheel = function handleFixedMousewheel(event, data) {\n    var bodyWrapper = table.refs.bodyWrapper;\n    if (Math.abs(data.spinY) > 0) {\n      var currentScrollTop = bodyWrapper.scrollTop;\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n  return {\n    isHidden: isHidden,\n    renderExpanded: renderExpanded,\n    setDragVisible: setDragVisible,\n    isGroup: isGroup,\n    handleMouseLeave: handleMouseLeave,\n    handleHeaderFooterMousewheel: handleHeaderFooterMousewheel,\n    tableSize: tableSize,\n    emptyBlockStyle: emptyBlockStyle,\n    handleFixedMousewheel: handleFixedMousewheel,\n    resizeProxyVisible: resizeProxyVisible,\n    bodyWidth: bodyWidth,\n    resizeState: resizeState,\n    doLayout: doLayout,\n    tableBodyStyles: tableBodyStyles,\n    tableLayout: tableLayout,\n    scrollbarViewStyle: scrollbarViewStyle,\n    tableInnerStyle: tableInnerStyle,\n    scrollbarStyle: scrollbarStyle\n  };\n}\nexport { useStyle as default };","map":{"version":3,"names":["useStyle","props","layout","store","table","isHidden","ref","renderExpanded","resizeProxyVisible","setDragVisible","visible","value","resizeState","width","height","headerHeight","isGroup","scrollbarViewStyle","display","verticalAlign","tableWidth","tableScrollHeight","bodyScrollHeight","headerScrollHeight","footerScrollHeight","appendScrollHeight","watchEffect","setHeight","setMaxHeight","maxHeight","watch","currentRowKey","states","rowKey","_ref","_ref2","_slicedToArray","unref","setCurrentRowKey","concat","immediate","data","commit","deep","expandRowKeys","setExpandRowKeysAdapter","handleMouseLeave","hoverState","handleHeaderFooterMousewheel","event","pixelX","pixelY","Math","abs","refs","bodyWrapper","scrollLeft","shouldUpdateHeight","computed","fixedColumns","length","rightFixedColumns","tableBodyStyles","bodyWidth","doLayout","updateElsHeight","updateColumnsWidth","requestAnimationFrame","syncPosition","onMounted","_asyncToGenerator","_regeneratorRuntime","mark","_callee","el","tableHeader","wrap","_callee$","_context","prev","next","nextTick","updateColumns","bindEvents","vnode","headerWrapper","flexible","parentElement","style","minWidth","offsetWidth","offsetHeight","showHeader","columns","forEach","column","filteredValue","values","silent","$ready","stop","setScrollClassByEl","className","classList","Array","from","filter","item","startsWith","push","scrollX","join","setScrollClass","tableWrapper","hasScrollClass","contains","scrollBarRef","scrollingNoneClass","scrollContainer","wrapRef","scrollWidth","_table$refs","footerWrapper","maxScrollLeftPosition","useEventListener","passive","fit","useResizeObserver","resizeListener","window","_a","_b","update","_c","_d","shouldUpdateLayout","_resizeState$value","oldWidth","oldHeight","oldHeaderHeight","tableLayout","tableHeaderRef","$el","scrollHeight","appendWrapper","tableSize","useFormSize","bodyWidth_","scrollY","gutterWidth","emptyBlockStyle","tableInnerStyle","Number","isNaN","scrollbarStyle","handleFixedMousewheel","spinY","currentScrollTop","scrollTop","preventDefault","clientHeight","ceil"],"sources":["../../../../../../../packages/components/table/src/table/style-helper.ts"],"sourcesContent":["// @ts-nocheck\nimport {\n  computed,\n  nextTick,\n  onMounted,\n  ref,\n  unref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport { useEventListener, useResizeObserver } from '@vueuse/core'\nimport { useFormSize } from '@element-plus/components/form'\n\nimport type { Table, TableProps } from './defaults'\nimport type { Store } from '../store'\nimport type TableLayout from '../table-layout'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useStyle<T>(\n  props: TableProps<T>,\n  layout: TableLayout<T>,\n  store: Store<T>,\n  table: Table<T>\n) {\n  const isHidden = ref(false)\n  const renderExpanded = ref(null)\n  const resizeProxyVisible = ref(false)\n  const setDragVisible = (visible: boolean) => {\n    resizeProxyVisible.value = visible\n  }\n  const resizeState = ref<{\n    width: null | number\n    height: null | number\n    headerHeight: null | number\n  }>({\n    width: null,\n    height: null,\n    headerHeight: null,\n  })\n  const isGroup = ref(false)\n  const scrollbarViewStyle = {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n  }\n  const tableWidth = ref()\n  const tableScrollHeight = ref(0)\n  const bodyScrollHeight = ref(0)\n  const headerScrollHeight = ref(0)\n  const footerScrollHeight = ref(0)\n  const appendScrollHeight = ref(0)\n\n  watchEffect(() => {\n    layout.setHeight(props.height)\n  })\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight)\n  })\n  watch(\n    () => [props.currentRowKey, store.states.rowKey],\n    ([currentRowKey, rowKey]) => {\n      if (!unref(rowKey) || !unref(currentRowKey)) return\n      store.setCurrentRowKey(`${currentRowKey}`)\n    },\n    {\n      immediate: true,\n    }\n  )\n  watch(\n    () => props.data,\n    (data) => {\n      table.store.commit('setData', data)\n    },\n    {\n      immediate: true,\n      deep: true,\n    }\n  )\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys)\n    }\n  })\n\n  const handleMouseLeave = () => {\n    table.store.commit('setHoverRow', null)\n    if (table.hoverState) table.hoverState = null\n  }\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5\n    }\n  }\n\n  const shouldUpdateHeight = computed(() => {\n    return (\n      props.height ||\n      props.maxHeight ||\n      store.states.fixedColumns.value.length > 0 ||\n      store.states.rightFixedColumns.value.length > 0\n    )\n  })\n\n  const tableBodyStyles = computed(() => {\n    return {\n      width: layout.bodyWidth.value ? `${layout.bodyWidth.value}px` : '',\n    }\n  })\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight()\n    }\n    layout.updateColumnsWidth()\n    requestAnimationFrame(syncPosition)\n  }\n  onMounted(async () => {\n    await nextTick()\n    store.updateColumns()\n    bindEvents()\n    requestAnimationFrame(doLayout)\n\n    const el: HTMLElement = table.vnode.el as HTMLElement\n    const tableHeader: HTMLElement = table.refs.headerWrapper\n    if (props.flexible && el && el.parentElement) {\n      // Automatic minimum size of flex-items\n      // Ensure that the main axis does not follow the width of the items\n      el.parentElement.style.minWidth = '0'\n    }\n\n    resizeState.value = {\n      width: (tableWidth.value = el.offsetWidth),\n      height: el.offsetHeight,\n      headerHeight:\n        props.showHeader && tableHeader ? tableHeader.offsetHeight : null,\n    }\n\n    // init filters\n    store.states.columns.value.forEach((column: TableColumnCtx<T>) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit('filterChange', {\n          column,\n          values: column.filteredValue,\n          silent: true,\n        })\n      }\n    })\n    table.$ready = true\n  })\n  const setScrollClassByEl = (el: HTMLElement, className: string) => {\n    if (!el) return\n    const classList = Array.from(el.classList).filter(\n      (item) => !item.startsWith('is-scrolling-')\n    )\n    classList.push(layout.scrollX.value ? className : 'is-scrolling-none')\n    el.className = classList.join(' ')\n  }\n  const setScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    setScrollClassByEl(tableWrapper, className)\n  }\n  const hasScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    return !!(tableWrapper && tableWrapper.classList.contains(className))\n  }\n  const syncPosition = function () {\n    if (!table.refs.scrollBarRef) return\n    if (!layout.scrollX.value) {\n      const scrollingNoneClass = 'is-scrolling-none'\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass)\n      }\n      return\n    }\n    const scrollContainer = table.refs.scrollBarRef.wrapRef\n    if (!scrollContainer) return\n    const { scrollLeft, offsetWidth, scrollWidth } = scrollContainer\n    const { headerWrapper, footerWrapper } = table.refs\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass('is-scrolling-right')\n    } else if (scrollLeft === 0) {\n      setScrollClass('is-scrolling-left')\n    } else {\n      setScrollClass('is-scrolling-middle')\n    }\n  }\n\n  const bindEvents = () => {\n    if (!table.refs.scrollBarRef) return\n    if (table.refs.scrollBarRef.wrapRef) {\n      useEventListener(\n        table.refs.scrollBarRef.wrapRef,\n        'scroll',\n        syncPosition,\n        {\n          passive: true,\n        }\n      )\n    }\n    if (props.fit) {\n      useResizeObserver(table.vnode.el as HTMLElement, resizeListener)\n    } else {\n      useEventListener(window, 'resize', resizeListener)\n    }\n\n    useResizeObserver(table.refs.bodyWrapper, () => {\n      resizeListener()\n      table.refs?.scrollBarRef?.update()\n    })\n  }\n  const resizeListener = () => {\n    const el = table.vnode.el\n    if (!table.$ready || !el) return\n\n    let shouldUpdateLayout = false\n    const {\n      width: oldWidth,\n      height: oldHeight,\n      headerHeight: oldHeaderHeight,\n    } = resizeState.value\n\n    const width = (tableWidth.value = el.offsetWidth)\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true\n    }\n\n    const height = el.offsetHeight\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true\n    }\n\n    const tableHeader: HTMLElement =\n      props.tableLayout === 'fixed'\n        ? table.refs.headerWrapper\n        : table.refs.tableHeaderRef?.$el\n    if (props.showHeader && tableHeader?.offsetHeight !== oldHeaderHeight) {\n      shouldUpdateLayout = true\n    }\n\n    tableScrollHeight.value = table.refs.tableWrapper?.scrollHeight || 0\n    headerScrollHeight.value = tableHeader?.scrollHeight || 0\n    footerScrollHeight.value = table.refs.footerWrapper?.offsetHeight || 0\n    appendScrollHeight.value = table.refs.appendWrapper?.offsetHeight || 0\n    bodyScrollHeight.value =\n      tableScrollHeight.value -\n      headerScrollHeight.value -\n      footerScrollHeight.value -\n      appendScrollHeight.value\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height,\n        headerHeight: (props.showHeader && tableHeader?.offsetHeight) || 0,\n      }\n      doLayout()\n    }\n  }\n  const tableSize = useFormSize()\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout\n    return bodyWidth_.value\n      ? `${(bodyWidth_.value as number) - (scrollY.value ? gutterWidth : 0)}px`\n      : ''\n  })\n\n  const tableLayout = computed(() => {\n    if (props.maxHeight) return 'fixed'\n    return props.tableLayout\n  })\n\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null\n    let height = '100%'\n    if (props.height && bodyScrollHeight.value) {\n      height = `${bodyScrollHeight.value}px`\n    }\n    const width = tableWidth.value\n    return {\n      width: width ? `${width}px` : '',\n      height,\n    }\n  })\n\n  const tableInnerStyle = computed(() => {\n    if (props.height) {\n      return {\n        height: !Number.isNaN(Number(props.height))\n          ? `${props.height}px`\n          : props.height,\n      }\n    }\n    if (props.maxHeight) {\n      return {\n        maxHeight: !Number.isNaN(Number(props.maxHeight))\n          ? `${props.maxHeight}px`\n          : props.maxHeight,\n      }\n    }\n    return {}\n  })\n\n  const scrollbarStyle = computed(() => {\n    if (props.height) {\n      return {\n        height: '100%',\n      }\n    }\n    if (props.maxHeight) {\n      if (!Number.isNaN(Number(props.maxHeight))) {\n        return {\n          maxHeight: `${\n            props.maxHeight -\n            headerScrollHeight.value -\n            footerScrollHeight.value\n          }px`,\n        }\n      } else {\n        return {\n          maxHeight: `calc(${props.maxHeight} - ${\n            headerScrollHeight.value + footerScrollHeight.value\n          }px)`,\n        }\n      }\n    }\n\n    return {}\n  })\n\n  /**\n   * fix layout\n   */\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault()\n      }\n      if (\n        data.pixelY > 0 &&\n        bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop\n      ) {\n        event.preventDefault()\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5)\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5)\n    }\n  }\n\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout,\n    tableBodyStyles,\n    tableLayout,\n    scrollbarViewStyle,\n    tableInnerStyle,\n    scrollbarStyle,\n  }\n}\n\nexport default useStyle\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}