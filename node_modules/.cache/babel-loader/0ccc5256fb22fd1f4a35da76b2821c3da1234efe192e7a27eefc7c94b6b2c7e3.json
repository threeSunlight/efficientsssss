{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { isVNode, createVNode, mergeProps } from 'vue';\nimport '../components/index.mjs';\nimport { tryCall } from '../utils.mjs';\nimport TableV2Row from '../components/row.mjs';\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar RowRenderer = function RowRenderer(props, _ref) {\n  var _ref2;\n  var slots = _ref.slots;\n  var columns = props.columns,\n    columnsStyles = props.columnsStyles,\n    depthMap = props.depthMap,\n    expandColumnKey = props.expandColumnKey,\n    expandedRowKeys = props.expandedRowKeys,\n    estimatedRowHeight = props.estimatedRowHeight,\n    hasFixedColumns = props.hasFixedColumns,\n    hoveringRowKey = props.hoveringRowKey,\n    rowData = props.rowData,\n    rowIndex = props.rowIndex,\n    style = props.style,\n    isScrolling = props.isScrolling,\n    rowProps = props.rowProps,\n    rowClass = props.rowClass,\n    rowKey = props.rowKey,\n    rowEventHandlers = props.rowEventHandlers,\n    ns = props.ns,\n    onRowHovered = props.onRowHovered,\n    onRowExpanded = props.onRowExpanded;\n  var rowKls = tryCall(rowClass, {\n    columns: columns,\n    rowData: rowData,\n    rowIndex: rowIndex\n  }, \"\");\n  var additionalProps = tryCall(rowProps, {\n    columns: columns,\n    rowData: rowData,\n    rowIndex: rowIndex\n  });\n  var _rowKey = rowData[rowKey];\n  var depth = depthMap[_rowKey] || 0;\n  var canExpand = Boolean(expandColumnKey);\n  var isFixedRow = rowIndex < 0;\n  var kls = [ns.e(\"row\"), rowKls, (_ref2 = {}, _defineProperty(_ref2, ns.e(\"row-depth-\".concat(depth)), canExpand && rowIndex >= 0), _defineProperty(_ref2, ns.is(\"expanded\"), canExpand && expandedRowKeys.includes(_rowKey)), _defineProperty(_ref2, ns.is(\"hovered\"), !isScrolling && _rowKey === hoveringRowKey), _defineProperty(_ref2, ns.is(\"fixed\"), !depth && isFixedRow), _defineProperty(_ref2, ns.is(\"customized\"), Boolean(slots.row)), _ref2)];\n  var onRowHover = hasFixedColumns ? onRowHovered : void 0;\n  var _rowProps = _objectSpread(_objectSpread({}, additionalProps), {}, {\n    columns: columns,\n    columnsStyles: columnsStyles,\n    \"class\": kls,\n    depth: depth,\n    expandColumnKey: expandColumnKey,\n    estimatedRowHeight: isFixedRow ? void 0 : estimatedRowHeight,\n    isScrolling: isScrolling,\n    rowIndex: rowIndex,\n    rowData: rowData,\n    rowKey: _rowKey,\n    rowEventHandlers: rowEventHandlers,\n    style: style\n  });\n  return createVNode(TableV2Row, mergeProps(_rowProps, {\n    \"onRowHover\": onRowHover,\n    \"onRowExpand\": onRowExpanded\n  }), _isSlot(slots) ? slots : {\n    \"default\": function _default() {\n      return [slots];\n    }\n  });\n};\nexport { RowRenderer as default };","map":{"version":3,"names":["_ref2","columns","props","columnsStyles","depthMap","expandColumnKey","expandedRowKeys","estimatedRowHeight","hasFixedColumns","hoveringRowKey","rowData","rowIndex","style","isScrolling","rowProps","rowClass","rowKey","rowEventHandlers","ns","onRowHovered","onRowExpanded","rowKls","tryCall","additionalProps","_rowKey","depth","canExpand","Boolean","isFixedRow","kls","e","_defineProperty","concat","is","includes","slots","row","onRowHover","_rowProps","_objectSpread","createVNode","TableV2Row","mergeProps","_isSlot","_default"],"sources":["../../../../../../../packages/components/table-v2/src/renderers/row.tsx"],"sourcesContent":["import { Row } from '../components'\nimport { tryCall } from '../utils'\n\nimport type { FunctionalComponent, UnwrapNestedRefs } from 'vue'\nimport type { UseNamespaceReturn } from '@element-plus/hooks'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\nimport type { TableGridRowSlotParams } from '../table-grid'\n\ntype RowRendererProps = TableGridRowSlotParams &\n  Pick<\n    TableV2Props,\n    | 'expandColumnKey'\n    | 'estimatedRowHeight'\n    | 'rowProps'\n    | 'rowClass'\n    | 'rowKey'\n    | 'rowEventHandlers'\n  > &\n  UnwrapNestedRefs<\n    Pick<\n      UseTableReturn,\n      | 'depthMap'\n      | 'expandedRowKeys'\n      | 'hasFixedColumns'\n      | 'hoveringRowKey'\n      | 'onRowHovered'\n      | 'onRowExpanded'\n      | 'columnsStyles'\n    >\n  > & {\n    ns: UseNamespaceReturn\n  }\n\nconst RowRenderer: FunctionalComponent<RowRendererProps> = (\n  props,\n  { slots }\n) => {\n  const {\n    columns,\n    columnsStyles,\n    depthMap,\n    expandColumnKey,\n    expandedRowKeys,\n    estimatedRowHeight,\n    hasFixedColumns,\n    hoveringRowKey,\n    rowData,\n    rowIndex,\n    style,\n    isScrolling,\n    rowProps,\n    rowClass,\n    rowKey,\n    rowEventHandlers,\n    ns,\n    onRowHovered,\n    onRowExpanded,\n  } = props\n\n  const rowKls = tryCall(rowClass, { columns, rowData, rowIndex }, '')\n  const additionalProps = tryCall(rowProps, {\n    columns,\n    rowData,\n    rowIndex,\n  })\n  const _rowKey = rowData[rowKey]\n  const depth = depthMap[_rowKey] || 0\n  const canExpand = Boolean(expandColumnKey)\n  const isFixedRow = rowIndex < 0\n  const kls = [\n    ns.e('row'),\n    rowKls,\n    {\n      [ns.e(`row-depth-${depth}`)]: canExpand && rowIndex >= 0,\n      [ns.is('expanded')]: canExpand && expandedRowKeys.includes(_rowKey),\n      [ns.is('hovered')]: !isScrolling && _rowKey === hoveringRowKey,\n      [ns.is('fixed')]: !depth && isFixedRow,\n      [ns.is('customized')]: Boolean(slots.row),\n    },\n  ]\n\n  const onRowHover = hasFixedColumns ? onRowHovered : undefined\n\n  const _rowProps = {\n    ...additionalProps,\n    columns,\n    columnsStyles,\n    class: kls,\n    depth,\n    expandColumnKey,\n    estimatedRowHeight: isFixedRow ? undefined : estimatedRowHeight,\n    isScrolling,\n    rowIndex,\n    rowData,\n    rowKey: _rowKey,\n    rowEventHandlers,\n    style,\n  }\n\n  return (\n    <Row {..._rowProps} onRowHover={onRowHover} onRowExpand={onRowExpanded}>\n      {slots}\n    </Row>\n  )\n}\n\nexport default RowRenderer\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}